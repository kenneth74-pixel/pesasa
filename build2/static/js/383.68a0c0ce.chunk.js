"use strict";(self.webpackChunkpesasa=self.webpackChunkpesasa||[]).push([[383],{73281:(e,s,t)=>{t.d(s,{Z:()=>v});var l=t(72791),a=t(99552),n=t(5475),i=t(28238),o=t(25514),r=t(84857),d=t(64802),c=t.n(d),m=t(80184);const u={cardCategoryWhite:{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none"},numericInput:{fontSize:"14px",textAlign:"right",width:"100%"}},x=e=>{let{value:s,onValueChange:t,classes:l}=e;return(0,m.jsx)(r.Z,{type:"number",classes:{input:l.numericInput,root:l.root},fullWidth:!0,value:void 0===s?"":s,inputProps:{min:0,placeholder:"Filter..."},onChange:e=>{const{value:s}=e.target;""!==s.trim()?t(parseInt(s,10)):t()}})};x.defaultProps={value:void 0};const h=(0,a.Z)(u)(x),p=e=>{let{value:s}=e;return(0,m.jsx)("span",{children:s.toLocaleDateString()})},j=e=>(0,m.jsx)(n.zl,{...e,formatterComponent:p}),g=[];const v=(0,a.Z)(u)((function(e){var s;const t=e.defaultExpandedGroups,[r,d]=(0,l.useState)(e.grouping),[u,x]=(0,l.useState)([]);let p="PESASA_DATA.xlsx";void 0!=e.fileName&&null!==e.fileName&&(p=e.fileName+"_PESASA.xlsx");const v=(0,l.useRef)(null),f=(0,l.useCallback)((e=>{v.current.exportGrid(e)}),[v]),b={white:{color:"#000".color}},y=(e,s)=>s.white,N=(0,a.Z)(b,"TableCell")((e=>{let{value:s,classes:t,...l}=e;return(0,m.jsx)(o.cO.Cell,{className:y(0,t),value:s,...l})})),[C,w]=(0,l.useState)(e.defaultHiddenColumnNames);let S=null!==(s=e.mobileHiddenColumnNames)&&void 0!==s?s:[];if(0===S.length&&e.columns.length>=2)for(let l=1;l<e.columns.length-1;l++)S.push(e.columns[l].name);const[D,F]=(0,l.useState)([...new Set(S)]);return(0,m.jsxs)("div",{style:{zIndex:-1e3},children:[(0,m.jsx)("div",{className:"showTable",children:(0,m.jsxs)(o.rj,{rows:e.rows,columns:e.columns,getRowId:e.getRowId?e=>e.id:null,children:[(0,m.jsx)(o.wz,{}),(0,m.jsx)(j,{for:g}),(0,m.jsx)(n.tU,{defaultSorting:null!==e.defaultSorting||void 0!=e.defaultSorting?e.defaultSorting:[]}),(0,m.jsx)(n.oA,{defaultExpandedGroups:t,grouping:r,onGroupingChange:d}),(0,m.jsx)(n.po,{defaultValue:""}),(0,m.jsx)(n.zl,{for:void 0!==e.currencyColumns&&e.currencyColumns.length>0?e.currencyColumns:[],availableFilterOperations:["greaterThanOrEqual","lessThan","lessThanOrEqual","equal","notEqual","greaterThan"],editorComponent:h}),void 0!==e.filteringStateColumnExtensions&&e.filteringStateColumnExtensions.length>0?(0,m.jsx)(n.IQ,{columnExtensions:e.filteringStateColumnExtensions,defaultFilters:[]}):null,(0,m.jsx)(n.Eb,{}),void 0!==e.totalSummaryItems&&e.totalSummaryItems.length>0?(0,m.jsx)(n.RX,{totalItems:e.totalSummaryItems,groupItems:void 0!==e.groupSummaryItems&&e.groupSummaryItems.length>0?e.groupSummaryItems:[]}):null,(0,m.jsx)(n.MD,{defaultPageSize:null!==e.defaultPageSize||void 0!==e.defaultPageSize?e.defaultPageSize:60,defaultCurrentPage:0}),e.mySelection?(0,m.jsx)(n.fP,{selection:e.selection,onSelectionChange:e.changeSelection}):(0,m.jsx)(n.fP,{selection:u,onSelectionChange:s=>{(s=>{x(s);try{e.passSelection(s)}catch(t){}})(s)}}),(0,m.jsx)(n.qf,{}),(0,m.jsx)(n.oR,{}),void 0!==e.totalSummaryItems&&e.totalSummaryItems.length>0?(0,m.jsx)(n.Y5,{}):null,(0,m.jsx)(n.xO,{}),(0,m.jsx)(n.qC,{}),(0,m.jsx)(o.cO,{style:{zIndex:-100},cellComponent:N,columnExtensions:e.tableColumnExtensions}),void 0!==e.defaultColumnWidths&&e.defaultColumnWidths.length>0?(0,m.jsx)(o.ad,{defaultColumnWidths:e.defaultColumnWidths}):null,void 0!==e.defaultOrder&&e.defaultOrder.length>0?(0,m.jsx)(o.nM,{defaultOrder:e.defaultOrder}):null,e.infiniteScrolling?(0,m.jsx)(o.dV,{}):null,(0,m.jsx)(o.KA,{showSortingControls:!0}),e.hideDataExport?[e.showSelection?(0,m.jsx)(o.vN,{selectByRowClick:!0,showSelectAll:!0}):null]:(0,m.jsx)(o.vN,{selectByRowClick:!0,showSelectAll:!0}),(0,m.jsx)(o.x6,{showColumnsWhenGrouped:e.showColumnsWhenGrouped}),(0,m.jsx)(o.W3,{hiddenColumnNames:C,onHiddenColumnNamesChange:w}),(0,m.jsx)(o.o8,{}),void 0!==e.totalSummaryItems&&e.totalSummaryItems.length>0?(0,m.jsx)(o.RA,{}):null,e.filterRow?(0,m.jsx)(o.B0,{showFilterSelector:!0}):null,(0,m.jsx)(o.a$,{leftColumns:void 0!==e.leftColumns&&e.leftColumns.length>0?e.leftColumns:[],rightColumns:void 0!==e.rightColumns&&e.rightColumns.length>0?e.rightColumns:[]}),e.hideGrouping?null:(0,m.jsx)(o.dW,{showGroupingControls:!0}),e.hideSearchPanel?null:(0,m.jsx)(o.EG,{}),(0,m.jsx)(o.kU,{}),e.hideDataExport?null:(0,m.jsx)(o.Gn,{startExport:f}),e.hidePagingPanel?null:(0,m.jsx)(o.U6,{pageSizes:[10,20,30,50,70,100,0]})]})}),(0,m.jsx)(i.T,{ref:v,rows:e.exportRow,columns:e.exportColumns,grouping:r,totalSummaryItems:void 0!==e.totalSummaryItems&&e.totalSummaryItems.length>0?e.totalSummaryItems:[],groupSummaryItems:void 0!==e.groupSummaryItems&&e.groupSummaryItems.length>0?e.groupSummaryItems:[],customizeHeader:e=>{const s={font:{bold:!0},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"D3D3D3"},bgColor:{argb:"D3D3D3"}},alignment:{horizontal:"left"}};for(let t=1;t<6;t+=1)e.mergeCells(t,1,t,3),e.mergeCells(t,4,t,6),Object.assign(e.getRow(t).getCell(1),s),Object.assign(e.getRow(t).getCell(3),s);e.getRow(1).height=20,e.getRow(1).getCell(1).font={bold:!0,size:16},e.getRow(1).getCell(4).numFmt="d mmmm yyyy",e.getRow(1).getCell(4).font={bold:!0,size:16},e.getColumn(1).values=["PESASA","Easy Loans:","Address:","Web:"],e.getColumn(4).values=[new Date,"PESASA"," ","https://pesasa.net"],e.addRow({})},customizeFooter:e=>{const{lastRow:s}=e;let t=s.number+2;for(let l=0;l<3;l+=1)e.mergeCells(t+l,1,t+l,6),Object.assign(e.getRow(t+l).getCell(1),{font:{bold:!0},alignment:{horizontal:"right"}});e.getRow(t).getCell(1).value="Exported From PESASA System",t+=1,e.getRow(t).getCell(1).value="pesasa.net",t+=1,e.getRow(t).getCell(1).value="PESASA",e.getRow(t).getCell(1).font={italic:!0}},selection:e.mySelection?e.selection:u,onSave:e=>{e.xlsx.writeBuffer().then((e=>{c()(new Blob([e],{type:"application/octet-stream"}),p)}))}})]})}))},86014:(e,s,t)=>{t.d(s,{Z:()=>c});var l=t(72791),a=t(5970),n=t(34978),i=t(2499),o=t(62062),r=t.n(o),d=t(80184);const c=e=>{const[s,t]=(0,l.useState)(!1),[o,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),[x,h]=(0,l.useState)(!1),[p,j]=(a.n.map((e=>(0,d.jsxs)("option",{value:e.name,children:[" "," "+e.name+" "]}))),a.n.map((e=>(0,d.jsxs)("option",{value:e.dial_code,children:[" "," "+e.name+" ("+e.dial_code+" )"]}))),(0,l.useState)({id:null,currency:"",invoices:"",credit:"",limit:"",hasLoan:"",hasLien:""}));(0,l.useEffect)((()=>{u(!0),j(e.data)}),[]);!function(e,s){const t=[];for(var l=e;l<s;l++)t.push(l);t.push(s)}(2021,(new Date).getFullYear());const g=e=>{e.preventDefault();const s=e.target.getAttribute("name"),t=e.target.value.split(",").join("");if(!isNaN(t)){const e={...p};e[s]=t,j(e)}};return(0,d.jsxs)("section",{style:{marginTop:"10px"},children:[(0,d.jsx)("div",{className:"card",style:{padding:"30px"},children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col",children:(0,d.jsx)("h4",{children:"Bank Account"})})})}),(0,d.jsx)("div",{className:"card",style:{padding:"30px"},children:(0,d.jsxs)("div",{className:"row",style:{marginTop:"20px"},children:[(0,d.jsxs)("div",{className:"col-md-6 mb-2",children:[(0,d.jsx)("label",{className:"text-black font-w500",children:" Account Name"}),(0,d.jsxs)("div",{className:"contact-name",children:[(0,d.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"invoices",required:"required",onChange:g,placeholder:"Account Name"}),(0,d.jsx)("span",{className:"validation-text"})]})]}),(0,d.jsx)("div",{className:"col-md-6 mb-2",children:(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)("label",{className:"text-black font-w500",children:"Account Number"}),(0,d.jsx)("div",{className:"contact-name",children:(0,d.jsx)("div",{className:"form-group mb-0",children:(0,d.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"limit",required:"required",onChange:g,placeholder:"Account Number"})})})]})}),(0,d.jsx)("div",{className:"col-md-6 mb-2",children:(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)("label",{className:"text-black font-w500",children:"Name of Bank"}),(0,d.jsx)("div",{className:"contact-name",children:(0,d.jsx)("div",{className:"form-group mb-0",children:(0,d.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"limit",required:"required",onChange:g,placeholder:"Name of Bank"})})})]})}),(0,d.jsx)("div",{className:"col-md-6 mb-2",children:(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)("label",{className:"text-black font-w500",children:"Branch"}),(0,d.jsx)("div",{className:"contact-name",children:(0,d.jsx)("div",{className:"form-group mb-0",children:(0,d.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"limit",required:"required",onChange:g,placeholder:"Branch"})})})]})}),(0,d.jsx)("div",{className:"col-lg-12 mb-12",style:{textAlign:"left",marginTop:"30px"},children:o?(0,d.jsx)(i.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:o}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("button",{disabled:!0,style:{width:"auto"},className:"btn btn-success",onClick:e=>(e=>{e.preventDefault();var s=!1,l="";p.limit=p.limit.split(",").join(""),p.invoices=p.invoices.split(",").join(""),""===p.currency?(s=!0,l="Please choose credit limit currency"):""===p.invoices?(s=!0,l="Please add average of total value of invoices issued per month"):""===p.credit?(s=!0,l="Please add average credit period of invoices"):""===p.limit?(s=!0,l="Please add limit Requested (Minimum Ugshs 5,000,000 )"):p.limit<5e6?(s=!0,l="Limit requested is below the 5,000,000 minimum"):""===p.hasLoan?(s=!0,l="Please select if you have a loan"):""===p.hasLien&&(s=!0,l="Please indicate if there is a lien over your receivables or debenture over floating assets/debtors/receivables"),s?r()("Oops",l,"error"):(console.log(p),(0,n.Hc)(p).then((e=>{t(!1),r()("Good job!","Successfully saved data","success"),c(!1)})).catch((e=>{console.log(e),r()("Oops",e.message,"error")})))})(e),children:"Verify Info"})})})]})})]})}},25161:(e,s,t)=>{t(72791),t(80184)},7529:(e,s,t)=>{t.r(s),t.d(s,{FilteringTable:()=>Y,default:()=>_});var l=t(72791),a=(t(61146),t(66659),t(71358)),n=t(92396),i=t(97311),o=(t(25161),t(62062)),r=t.n(o),d=t(34978),c=(t(6639),t(42542),t(86014),t(2499)),m=t(91951),u=t(91523),x=t(5803),h=t(22389),p=t(82945),j=t(73281),g=t(99552),v=t(5475),f=t(28238),b=t(25514),y=t(84857),N=t(64802),C=t.n(N),w=t(80184);const S={cardCategoryWhite:{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none"},numericInput:{fontSize:"14px",textAlign:"right",width:"100%"}},D=e=>{let{value:s,onValueChange:t,classes:l}=e;return(0,w.jsx)(y.Z,{type:"number",classes:{input:l.numericInput,root:l.root},fullWidth:!0,value:void 0===s?"":s,inputProps:{min:0,placeholder:"Filter..."},onChange:e=>{const{value:s}=e.target;""!==s.trim()?t(parseInt(s,10)):t()}})};D.defaultProps={value:void 0};const F=(0,g.Z)(S)(D),E=e=>{let{value:s}=e;return(0,w.jsx)("span",{children:s.toLocaleDateString()})},A=e=>(0,w.jsx)(v.zl,{...e,formatterComponent:E}),P=[];const I=(0,g.Z)(S)((function(e){var s;const t=e.defaultExpandedGroups,[a,n]=(0,l.useState)(e.grouping),[i,o]=(0,l.useState)([]);let r="PESASA_DATA.xlsx";void 0!=e.fileName&&null!==e.fileName&&(r=e.fileName+"_PESASA.xlsx");const d=(0,l.useRef)(null),c=(0,l.useCallback)((e=>{d.current.exportGrid(e)}),[d]),m={white:{color:"#000".color}},u=(e,s)=>s.white,x=(0,g.Z)(m,"TableCell")((e=>{let{value:s,classes:t,...l}=e;return(0,w.jsx)(b.cO.Cell,{className:u(0,t),value:s,...l})})),[h,p]=(0,l.useState)(e.defaultHiddenColumnNames);let j=null!==(s=e.mobileHiddenColumnNames)&&void 0!==s?s:[];if(0===j.length&&e.columns.length>=2)for(let l=1;l<e.columns.length-1;l++)j.push(e.columns[l].name);const[y,N]=(0,l.useState)([...new Set(j)]);return(0,w.jsxs)("div",{style:{zIndex:-1e3},children:[(0,w.jsx)("div",{className:"showTable",children:(0,w.jsxs)(b.rj,{rows:e.rows,columns:e.columns,getRowId:e.getRowId?e=>e.id:null,children:[(0,w.jsx)(b.wz,{}),(0,w.jsx)(A,{for:P}),(0,w.jsx)(v.tU,{defaultSorting:null!==e.defaultSorting||void 0!=e.defaultSorting?e.defaultSorting:[]}),(0,w.jsx)(v.oA,{defaultExpandedGroups:t,grouping:a,onGroupingChange:n}),(0,w.jsx)(v.po,{defaultValue:""}),(0,w.jsx)(v.zl,{for:void 0!==e.currencyColumns&&e.currencyColumns.length>0?e.currencyColumns:[],availableFilterOperations:["greaterThanOrEqual","lessThan","lessThanOrEqual","equal","notEqual","greaterThan"],editorComponent:F}),void 0!==e.filteringStateColumnExtensions&&e.filteringStateColumnExtensions.length>0?(0,w.jsx)(v.IQ,{columnExtensions:e.filteringStateColumnExtensions,defaultFilters:[]}):null,(0,w.jsx)(v.Eb,{}),void 0!==e.totalSummaryItems&&e.totalSummaryItems.length>0?(0,w.jsx)(v.RX,{totalItems:e.totalSummaryItems,groupItems:void 0!==e.groupSummaryItems&&e.groupSummaryItems.length>0?e.groupSummaryItems:[]}):null,(0,w.jsx)(v.MD,{defaultPageSize:null!==e.defaultPageSize||void 0!==e.defaultPageSize?e.defaultPageSize:60,defaultCurrentPage:0}),e.mySelection?(0,w.jsx)(v.fP,{selection:e.selection,onSelectionChange:e.changeSelection}):(0,w.jsx)(v.fP,{selection:i,onSelectionChange:s=>{(s=>{o(s);try{e.passSelection(s)}catch(t){}})(s)}}),(0,w.jsx)(v.qf,{}),(0,w.jsx)(v.oR,{}),void 0!==e.totalSummaryItems&&e.totalSummaryItems.length>0?(0,w.jsx)(v.Y5,{}):null,(0,w.jsx)(v.xO,{}),(0,w.jsx)(v.qC,{}),(0,w.jsx)(b.cO,{style:{zIndex:-100},cellComponent:x,columnExtensions:e.tableColumnExtensions}),void 0!==e.defaultColumnWidths&&e.defaultColumnWidths.length>0?(0,w.jsx)(b.ad,{defaultColumnWidths:e.defaultColumnWidths}):null,void 0!==e.defaultOrder&&e.defaultOrder.length>0?(0,w.jsx)(b.nM,{defaultOrder:e.defaultOrder}):null,e.infiniteScrolling?(0,w.jsx)(b.dV,{}):null,(0,w.jsx)(b.KA,{showSortingControls:!0}),e.hideDataExport?[e.showSelection?(0,w.jsx)(b.vN,{selectByRowClick:!0,showSelectAll:!0}):null]:(0,w.jsx)(b.vN,{selectByRowClick:!0,showSelectAll:!0}),(0,w.jsx)(b.x6,{showColumnsWhenGrouped:e.showColumnsWhenGrouped}),(0,w.jsx)(b.W3,{hiddenColumnNames:h,onHiddenColumnNamesChange:p}),(0,w.jsx)(b.o8,{}),void 0!==e.totalSummaryItems&&e.totalSummaryItems.length>0?(0,w.jsx)(b.RA,{}):null,e.filterRow?(0,w.jsx)(b.B0,{showFilterSelector:!0}):null,(0,w.jsx)(b.a$,{leftColumns:void 0!==e.leftColumns&&e.leftColumns.length>0?e.leftColumns:[],rightColumns:void 0!==e.rightColumns&&e.rightColumns.length>0?e.rightColumns:[]}),e.hideGrouping?null:(0,w.jsx)(b.dW,{showGroupingControls:!0}),e.hideSearchPanel?null:(0,w.jsx)(b.EG,{}),(0,w.jsx)(b.kU,{}),e.hideDataExport?null:(0,w.jsx)(b.Gn,{startExport:c}),e.hidePagingPanel?null:(0,w.jsx)(b.U6,{pageSizes:[10,20,30,50,70,100,0]})]})}),(0,w.jsx)(f.T,{ref:d,rows:e.exportRow,columns:e.exportColumns,grouping:a,totalSummaryItems:void 0!==e.totalSummaryItems&&e.totalSummaryItems.length>0?e.totalSummaryItems:[],groupSummaryItems:void 0!==e.groupSummaryItems&&e.groupSummaryItems.length>0?e.groupSummaryItems:[],selection:e.mySelection?e.selection:i,onSave:e=>{e.xlsx.writeBuffer().then((e=>{C()(new Blob([e],{type:"application/octet-stream"}),r)}))}})]})}));var R=t(59513),M=t.n(R),T=t(65661),k=t(5289),B=t(39157),G=t(97123);let O=(new Date).getFullYear();const Z=[],U=(new Date).getFullYear();for(var z=2021;z<U;z++)Z.push((0,w.jsx)("option",{value:z,children:z}));Z.push((0,w.jsx)("option",{value:U,children:U}));const W=function(e,s){const t=[];for(var l=e;l<s;l++)t.push(l);return t.push(s),t}(2021,(new Date).getFullYear());const L=["January","February","March","April","May","June","July","August","September","October","November","December"],X=(0,x.ZP)((()=>(0,h.Z)(Promise.all([t.e(496),t.e(675)]).then(t.bind(t,78675)),1e3))),q=()=>(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(p.Z,{className:"dropdown custom-dropdown mb-0",children:[(0,w.jsx)(p.Z.Toggle,{variant:"",as:"div",className:"btn sharp tp-btn dark-btn i-false",children:(0,w.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,w.jsx)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z",stroke:"#342E59","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,w.jsx)("path",{d:"M12 6C12.5523 6 13 5.55228 13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5C11 5.55228 11.4477 6 12 6Z",stroke:"#342E59","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,w.jsx)("path",{d:"M12 20C12.5523 20 13 19.5523 13 19C13 18.4477 12.5523 18 12 18C11.4477 18 11 18.4477 11 19C11 19.5523 11.4477 20 12 20Z",stroke:"#342E59","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})}),(0,w.jsxs)(p.Z.Menu,{className:"dropdown-menu dropdown-menu-right",children:[(0,w.jsx)(p.Z.Item,{children:"Details "}),(0,w.jsx)(p.Z.Item,{className:"text-danger",children:"Cancel "})]})]})}),V=e=>{var s,t,a,n,i,o,x,h,p,g,v,f,b,y,N,C,S,D,F,E,A;let{hideDetail:P,hideMenu:R,setRange:Z,setAddFormDataTwo:U,getBuyersInfo:z,theNameToShow:V}=e;const[H,Y]=(0,l.useState)(!1),[_,J]=(0,l.useState)(!1),[K,Q]=(0,l.useState)(!1),[$,ee]=(0,l.useState)(!1),[se,te]=(0,l.useState)({exportDataPoritiolio:[]}),[le,ae]=(0,l.useState)({exportMseData:[]}),[ne,ie]=(0,l.useState)([0,0,0,0,0,0,0,0,0,0,0,0]),[oe,re]=(0,l.useState)([]),[de,ce]=(0,l.useState)(!1),me=[{name:"num",title:"#"},{name:"appRef",title:"Application Ref."},{name:"client",title:"Client"},{name:"buyer",title:"Buyer"},{name:"toDisburse",title:"Amount Disbursed"},{name:"fessToGet",title:"Fees Charged"},{name:"totalDue",title:"Total Due"},{name:"rate",title:"Discount Fee Rate"},{name:"recoveryMode",title:"Fees Recovery Mode"},{name:"loanTenor",title:"Tenor"},{name:"disburmentDate",title:"Disbursement Date"},{name:"maturityDate",title:"Maturity Date"},{name:"type",title:"Maturity Profile"},{name:"daysDue",title:"Days Past Due"},{name:"principal",title:"Principal Balance"},{name:"fees",title:"Fees Balance"},{name:"penalties",title:"Penalties"},{name:"balance",title:"Outstanding Balance"}],ue=[{name:"clientName",title:"Applicant"},{name:"appRef",title:"Application Ref"},{name:"appNIN",title:"Applicant NIN"},{name:"mobile",title:"Applicant Mobile"},{name:"appEmail",title:"Applicant Email"},{name:"clientAddress",title:"Applicant Adsress"},{name:"addressBusiness",title:"Address Category"},{name:"appDOB",title:"Applicant DOB"},{name:"gender",title:"Gender"},{name:"clientRef",title:"Client Ref"},{name:"employmentStatus",title:"Employement Status"},{name:"eduLevel",title:"Education Level"},{name:"disable",title:"Disabled"},{name:"client",title:"Business Name"},{name:"businessType",title:"Business Type"},{name:"busLocation",title:"Business Location"},{name:"turnover",title:"Annual Turnover"},{name:"yearsinBusiness",title:"Years in Business"},{name:"employee",title:"Employee Number"},{name:"empyouth",title:"Youth Employees"},{name:"femaleEmployee",title:"Female Employees"},{name:"refugee",title:"Refugee Employees"},{name:"prevUnemployed",title:"Previously Unemployed Employee"},{name:"empDisable",title:"Employee with disablility"},{name:"facilityName",title:"Credit Facility Name"},{name:"facilityDesc",title:"Credit Facility Description"},{name:"facilityType",title:"Credit Facility Type"},{name:"disburmentDate",title:"Disbursement Date"},{name:"total",title:"Discount Amount"},{name:"installment",title:"Installments"},{name:"loanTenor",title:"Tenor"},{name:"totalDue",title:"Total Amount Payable"},{name:"fees",title:"Discount Fee"},{name:"maturityDate",title:"Due Date"},{name:"noDisbursements",title:"Total Disbursements"},{name:"mseDisbursements",title:"Total Disbursements From MSE"},{name:"facilityPurpose",title:"Facility Purpose"}],xe=[{name:"pastDue",title:"Past Due Balance"},{name:"principal",title:"Principal Balance."},{name:"daysDue",title:"Past Due Days"},{name:"appRef",title:"Application Ref"},{name:"client",title:"Client Ref"},{name:"type",title:"Maturity Profile"}],[he,pe]=(0,l.useState)({startDate:new Date,endDate:new Date,days:"",name:"days",year:(new Date).getFullYear(),month:-1});function je(e){return null!==e&&void 0!==e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}(0,l.useEffect)((()=>{var e;e=(new Date).getFullYear(),(0,d.uN)(e).then((s=>{re(s),ie(Math.random()),O=e})).catch((e=>{console.log(e),r()("Oops",e.message,"error")})),(0,d.Nj)().then((e=>{te(e)})).catch((e=>{console.log(e)}))}),[]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(k.Z,{disableEnforceFocus:!0,fullWidth:!0,maxWidth:"lg",open:_,onClose:J,children:[(0,w.jsx)(T.Z,{children:(0,w.jsx)("h4",{children:"Tabular Data"})}),(0,w.jsx)(B.Z,{children:(0,w.jsx)(j.Z,{rows:se.exportDataPoritiolio,exportRow:se.exportDataPoritiolio,columns:me,exportColumns:me,defaultExpandedGroups:[],grouping:[],defaultHiddenColumnNames:[],defaultPageSize:0,hideSelectionExport:!0,infiniteScrolling:!0,fileName:se.name})}),(0,w.jsx)(G.Z,{children:(0,w.jsx)("button",{type:"button",className:"btn btn-success shadow btn-xs ",style:{marginLeft:"15px",marginTop:"15px"},onClick:()=>J(!1),"data-dismiss":"modal",children:"Close"})})]}),(0,w.jsxs)(k.Z,{disableEnforceFocus:!0,fullWidth:!0,maxWidth:"lg",open:K,onClose:Q,children:[(0,w.jsx)(T.Z,{children:(0,w.jsx)("h4",{children:"MSE Disbursement Report Data"})}),(0,w.jsx)(B.Z,{children:(0,w.jsx)(I,{rows:le,exportRow:le,columns:ue,exportColumns:ue,defaultExpandedGroups:[],grouping:[],defaultHiddenColumnNames:[],defaultPageSize:0,hideSelectionExport:!0,infiniteScrolling:!0,fileName:"Disbursement Report"})}),(0,w.jsx)(G.Z,{children:(0,w.jsx)("button",{type:"button",className:"btn btn-success shadow btn-xs ",style:{marginLeft:"15px",marginTop:"15px"},onClick:()=>Q(!1),"data-dismiss":"modal",children:"Close"})})]}),(0,w.jsxs)(k.Z,{disableEnforceFocus:!0,fullWidth:!0,maxWidth:"lg",open:$,onClose:ee,children:[(0,w.jsx)(T.Z,{children:(0,w.jsx)("h4",{children:"MSE Arrears Report Data"})}),(0,w.jsx)(B.Z,{children:(0,w.jsx)(I,{rows:se.arrear,exportRow:se.arrear,columns:xe,exportColumns:xe,defaultExpandedGroups:[],grouping:[],defaultHiddenColumnNames:[],defaultPageSize:0,hideSelectionExport:!0,infiniteScrolling:!0,fileName:"Arrears Report"})}),(0,w.jsx)(G.Z,{children:(0,w.jsx)("button",{type:"button",className:"btn btn-success shadow btn-xs ",style:{marginLeft:"15px",marginTop:"15px"},onClick:()=>ee(!1),"data-dismiss":"modal",children:"Close"})})]}),(0,w.jsxs)(k.Z,{disableEnforceFocus:!0,fullWidth:!0,maxWidth:"lg",open:H,onClose:Y,children:[(0,w.jsx)(T.Z,{children:(0,w.jsx)("h4",{children:"Filter Data"})}),(0,w.jsx)(B.Z,{children:(0,w.jsx)("div",{className:"col-xl-12 col-xxl-12",children:(0,w.jsx)("div",{className:"card",children:(0,w.jsx)("div",{style:{padding:"20px"},children:(0,w.jsxs)("div",{className:"row",style:{height:"400px",marginTop:"10px",width:"100%"},children:[(0,w.jsx)("b",{style:{color:"black"},children:(0,w.jsx)("u",{children:"Filter By Date Range"})}),(0,w.jsx)("div",{className:"col-xl-6 col-xxl-6",children:(0,w.jsxs)("div",{className:"form-group mb-0",children:[(0,w.jsx)("label",{className:"text-black font-w500",children:"Start Date"}),(0,w.jsx)(M(),{dateFormat:"dd/MM/yyyy",className:"form-control",renderCustomHeader:e=>{let{date:s,changeYear:t,changeMonth:l,decreaseMonth:a,increaseMonth:n,prevMonthButtonDisabled:i,nextMonthButtonDisabled:o}=e;return(0,w.jsxs)("div",{style:{margin:10,display:"flex",justifyContent:"center"},children:[(0,w.jsx)("button",{onClick:a,disabled:i,children:"<"}),(0,w.jsx)("select",{value:s.getFullYear(),onChange:e=>{let{target:{value:s}}=e;return t(s)},children:W.map((e=>(0,w.jsx)("option",{value:e,children:e},e)))}),(0,w.jsx)("select",{value:L[s.getMonth()],onChange:e=>{let{target:{value:s}}=e;return l(L.indexOf(s))},children:L.map((e=>(0,w.jsx)("option",{value:e,children:e},e)))}),(0,w.jsx)("button",{onClick:n,disabled:o,children:">"})]})},placeholder:"Start Date",name:"startDate",selected:he.startDate,onChange:e=>{const s=e,t={...he};t.startDate=s,pe(t)}})]})}),(0,w.jsx)("div",{className:"col-xl-6 col-xxl-6",children:(0,w.jsxs)("div",{className:"form-group mb-0",children:[(0,w.jsx)("label",{className:"text-black font-w500",children:"End Date"}),(0,w.jsx)(M(),{dateFormat:"dd/MM/yyyy",className:"form-control",renderCustomHeader:e=>{let{date:s,changeYear:t,changeMonth:l,decreaseMonth:a,increaseMonth:n,prevMonthButtonDisabled:i,nextMonthButtonDisabled:o}=e;return(0,w.jsxs)("div",{style:{margin:10,display:"flex",justifyContent:"center"},children:[(0,w.jsx)("button",{onClick:a,disabled:i,children:"<"}),(0,w.jsx)("select",{value:s.getFullYear(),onChange:e=>{let{target:{value:s}}=e;return t(s)},children:W.map((e=>(0,w.jsx)("option",{value:e,children:e},e)))}),(0,w.jsx)("select",{value:L[s.getMonth()],onChange:e=>{let{target:{value:s}}=e;return l(L.indexOf(s))},children:L.map((e=>(0,w.jsx)("option",{value:e,children:e},e)))}),(0,w.jsx)("button",{onClick:n,disabled:o,children:">"})]})},placeholder:"End Date",name:"endDate",selected:he.endDate,onChange:e=>{const s=e,t={...he};t.endDate=s,pe(t)}})]})}),(0,w.jsx)("div",{className:"col-xl-6 col-xxl-6",children:de?(0,w.jsx)(c.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:!0}):(0,w.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",style:{marginLeft:"15px",marginTop:"15px"},onClick:()=>(ce(!0),Z("dateRange"),U(he),void(0,d.Kc)(he).then((e=>{var s,t,l,a;ce(!1),console.log("response data: ",e);const n=e;null===(s=n.exportDataPoritiolio)||void 0===s||s.map(((e,s)=>{var t,l,a,n,i,o,r;e.num=parseInt(s+1),e.disburmentDate=(0,m.default)(new Date(e.disburmentDate),"dd-MMM-yyyy"),e.maturityDate=(0,m.default)(new Date(e.maturityDate),"dd-MMM-yyyy"),e.toDisburse=je(e.toDisburse),e.fessToGet=je(null===(t=e.fessToGet)||void 0===t?void 0:t.toFixed(2)),e.totalDue=je(null===(l=e.totalDue)||void 0===l?void 0:l.toFixed(2)),e.balance=je(null===(a=e.balance)||void 0===a?void 0:a.toFixed(2)),e.collected=je(null===(n=e.collected)||void 0===n?void 0:n.toFixed(2)),e.penalties=je(null===(i=e.penalties)||void 0===i?void 0:i.toFixed(2)),e.principal=je(null===(o=e.principal)||void 0===o?void 0:o.toFixed(2)),e.fees=je(null===(r=e.fees)||void 0===r?void 0:r.toFixed(2)),e.rate=e.rate+" % "})),null===(t=n.exportMseData)||void 0===t||t.map(((e,s)=>{var t,l,a;e.maturityDate=(0,m.default)(new Date(e.maturityDate),"dd-MMM-yyyy"),e.disburmentDate=(0,m.default)(new Date(e.disburmentDate),"dd-MMM-yyyy"),e.appDOB=(0,m.default)(new Date(e.appDOB),"dd-MMM-yyyy"),e.totalDue=je(null===(t=e.totalDue)||void 0===t?void 0:t.toFixed(2)),e.total=je(null===(l=e.total)||void 0===l?void 0:l.toFixed(2)),e.fees=je(null===(a=e.fees)||void 0===a?void 0:a.toFixed(2)),e.noDisbursements=e.mseDisbursements}));const i=null===(l=n.exportMseData)||void 0===l?void 0:l.filter((e=>!0===e.mse));ae(i),console.log("filtered data: ",i),null===(a=n.arrear)||void 0===a||a.map(((e,s)=>{var t,l;e.pastDue=je(null===(t=e.pastDue)||void 0===t?void 0:t.toFixed(2)),e.principal=je(null===(l=e.principal)||void 0===l?void 0:l.toFixed(2))})),te(e),Y(!1)})).catch((e=>{ce(!1),console.log(e),r()("Oops",e.message,"error")}))),"data-dismiss":"modal",children:"Pick Data"})})]})})})})}),(0,w.jsx)(G.Z,{children:(0,w.jsx)("button",{type:"button",className:"btn btn-success shadow btn-xs ",style:{marginLeft:"15px",marginTop:"15px"},onClick:()=>Y(!1),"data-dismiss":"modal",children:"Close"})})]}),R?null:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"mb-sm-5 mb-3 d-flex flex-wrap align-items-center text-head",children:[(0,w.jsx)("h2",{className:"font-w600 mb-2 me-auto",children:"Portfolio Report"}),(0,w.jsx)(u.rU,{to:"#",style:{marginRight:"10px"},className:"btn btn-primary mb-2 ml-2 mr-2 rounded",onClick:()=>Y(!0),children:"Filter Data"}),(0,w.jsx)(u.rU,{to:"#",className:"btn btn-success mr-2 mb-2 rounded",onClick:()=>J(!0),children:"Show In Table"})]}),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.rU,{to:"#",style:{marginRight:"10px"},className:"btn btn-info ml-4 mb-2 rounded",onClick:()=>Q(!0),children:"Show MSE Disbursement Report"}),(0,w.jsx)(u.rU,{to:"#",className:"btn btn-info mr-2 mb-2 rounded",onClick:()=>ee(!0),children:"Show MSE Arrears Report"})]})]}),(0,w.jsx)("div",{className:"row",children:(0,w.jsx)("div",{className:"col-xl-12 col-xxl-12",children:(0,w.jsxs)("div",{className:"card",children:[(0,w.jsxs)("div",{className:"card-header border-0 pb-0",children:[(0,w.jsxs)("h4",{className:"mb-0 fs-20 text-black",children:["Portfolio Report For ",se.name]}),(0,w.jsx)(q,{})]}),(0,w.jsxs)("div",{className:"card-body",children:[(0,w.jsxs)("div",{className:"bg-gradient-1 coin-holding flex-wrap",style:{flexDirection:"row"},children:[(0,w.jsx)("div",{className:"mb-2 coin-bx",style:{flex:1},children:(0,w.jsx)("div",{className:"d-flex align-items-center",children:(0,w.jsxs)("div",{className:"ms-3",children:[(0,w.jsx)("h4",{className:"coin-font font-w600 mb-0",children:"Total Outstanding"}),(0,w.jsxs)("b",{className:"mb-0 op-6",style:{color:"#000"},children:["Total Volume: ",se.allNumber]})]})})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Principal:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(s=se.all)||void 0===s?void 0:s.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Fees:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(t=se.totalAmountFees)||void 0===t?void 0:t.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Penalties:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(a=se.totalAmountFines)||void 0===a?void 0:a.toFixed(2))]})})]})})]}),(0,w.jsxs)("div",{className:"bg-gradient-1 mt-4 coin-holding flex-wrap",style:{flexDirection:"row"},children:[(0,w.jsx)("div",{className:"mb-2 coin-bx",style:{flex:1},children:(0,w.jsx)("div",{className:"d-flex align-items-center",children:(0,w.jsxs)("div",{className:"ms-3",children:[(0,w.jsx)("h4",{className:"coin-font font-w600 mb-0",children:"Normal Balance"}),(0,w.jsxs)("b",{className:"mb-0 op-6",style:{color:"#000"},children:["Total Volume: ",se.approvedNumber]})]})})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Principal:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(n=se.approved)||void 0===n?void 0:n.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Fees:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(i=se.totalApprovedAmountFees)||void 0===i?void 0:i.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Penalties:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(o=se.totalApprovedAmountFines)||void 0===o?void 0:o.toFixed(2))]})})]})})]}),(0,w.jsxs)("div",{className:"bg-gradient-1 mt-4 coin-holding flex-wrap",style:{flexDirection:"row"},children:[(0,w.jsx)("div",{className:"mb-2 coin-bx",style:{flex:1},children:(0,w.jsx)("div",{className:"d-flex align-items-center",children:(0,w.jsxs)("div",{className:"ms-3",children:[(0,w.jsx)("h4",{className:"coin-font font-w600 mb-0",children:"Pastdue Balance"}),(0,w.jsxs)("b",{className:"mb-0 op-6",style:{color:"#000"},children:["Total Volume: ",se.pendingNumber]})]})})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Principal:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(x=se.pending)||void 0===x?void 0:x.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Fees:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(h=se.totalPendingFees)||void 0===h?void 0:h.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Penalties:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(p=se.totalPendingFines)||void 0===p?void 0:p.toFixed(2))]})})]})})]}),(0,w.jsxs)("div",{className:"bg-gradient-3 mt-4 coin-holding flex-wrap",style:{flexDirection:"row"},children:[(0,w.jsx)("div",{className:"mb-2 coin-bx",style:{flex:1},children:(0,w.jsx)("div",{className:"d-flex align-items-center",children:(0,w.jsxs)("div",{className:"ms-3",children:[(0,w.jsx)("h4",{className:"coin-font font-w600 mb-0",children:"PAR 30"}),(0,w.jsxs)("b",{className:"mb-0 op-6",style:{color:"#000"},children:["Total Volume: ",se.par30Count]})]})})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Principal:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(g=se.totalpar30Amount)||void 0===g?void 0:g.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Fees:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(v=se.totalpar30AmountFees)||void 0===v?void 0:v.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Penalties:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(f=se.totalpar30AmountFines)||void 0===f?void 0:f.toFixed(2))]})})]})})]}),(0,w.jsxs)("div",{className:"bg-gradient-3 mt-4 coin-holding flex-wrap",style:{flexDirection:"row"},children:[(0,w.jsx)("div",{className:"mb-2 coin-bx",style:{flex:1},children:(0,w.jsx)("div",{className:"d-flex align-items-center",children:(0,w.jsxs)("div",{className:"ms-3",children:[(0,w.jsx)("h4",{className:"coin-font font-w600 mb-0",children:"PAR 60"}),(0,w.jsxs)("b",{className:"mb-0 op-6",style:{color:"#000"},children:["Total Volume: ",se.totalnplCount]})]})})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Principal:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(b=se.totalnplAmount)||void 0===b?void 0:b.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Fees:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(y=se.totalnplAmountFees)||void 0===y?void 0:y.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Penalties:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(N=se.totalnplAmountFines)||void 0===N?void 0:N.toFixed(2))]})})]})})]}),(0,w.jsxs)("div",{className:"bg-gradient-3 mt-4 coin-holding flex-wrap",style:{flexDirection:"row"},children:[(0,w.jsx)("div",{className:"mb-2 coin-bx",style:{flex:1},children:(0,w.jsx)("div",{className:"d-flex align-items-center",children:(0,w.jsxs)("div",{className:"ms-3",children:[(0,w.jsx)("h4",{className:"coin-font font-w600 mb-0",children:"PAR 90"}),(0,w.jsxs)("b",{className:"mb-0 op-6",style:{color:"#000"},children:["Total Volume: ",se.par90Count]})]})})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Principal:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(C=se.totalpar90Amount)||void 0===C?void 0:C.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Fees:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(S=se.totalpar90AmountFees)||void 0===S?void 0:S.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Penalties:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(D=se.totalpar90AmountFines)||void 0===D?void 0:D.toFixed(2))]})})]})})]}),(0,w.jsxs)("div",{className:"bg-gradient-3 mt-4 coin-holding flex-wrap",style:{flexDirection:"row"},children:[(0,w.jsx)("div",{className:"mb-2 coin-bx",style:{flex:1},children:(0,w.jsx)("div",{className:"d-flex align-items-center",children:(0,w.jsxs)("div",{className:"ms-3",children:[(0,w.jsx)("h4",{className:"coin-font font-w600 mb-0",children:"W/o"}),(0,w.jsxs)("b",{className:"mb-0 op-6",style:{color:"#000"},children:["Total Volume: ",se.totalwoCount]})]})})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Principal:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(F=se.totalwoAmount)||void 0===F?void 0:F.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Fees:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(E=se.totalwoAmountFees)||void 0===E?void 0:E.toFixed(2))]})})]})}),(0,w.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"coin-bx-one",children:"Penalties:"}),(0,w.jsx)("div",{className:"ms-3",children:(0,w.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",je(null===(A=se.totalwoAmountFines)||void 0===A?void 0:A.toFixed(2))]})})]})})]})]})]})})}),(0,w.jsx)("div",{className:"row",children:(0,w.jsx)("div",{className:"col-xl-4",children:(0,w.jsx)("div",{className:"row",children:se.length>0?(0,w.jsx)("div",{className:"col-xl-12 col-xxl-12 col-md-12",children:(0,w.jsxs)("div",{className:"card",children:[(0,w.jsxs)("div",{className:"card-header pb-0 border-0",children:[(0,w.jsx)("h4",{className:"mb-0 fs-20 text-black",children:"Current Graph"}),(0,w.jsx)(q,{})]}),(0,w.jsxs)("div",{className:"card-body py-2 text-center",children:[(0,w.jsx)("div",{id:"pieChart",className:"d-inline-block",children:(0,w.jsx)(X,{theData:se},se.approvedNumber)}),(0,w.jsx)("div",{className:"chart-items",children:(0,w.jsx)("div",{className:" col-xl-12 col-sm-12",children:(0,w.jsxs)("div",{className:"row text-black text-start fs-13 mt-4",children:[(0,w.jsxs)("span",{className:"mb-3 col-6",children:[(0,w.jsx)("svg",{className:"me-2",width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,w.jsx)("rect",{width:"19",height:"19",rx:"9.5",fill:"#096"})}),"Paid"]}),(0,w.jsxs)("span",{className:"mb-3 col-6",children:[(0,w.jsx)("svg",{className:"me-2",width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,w.jsx)("rect",{width:"19",height:"19",rx:"9.5",fill:"#F7A62C"})}),"Pending Collection"]}),(0,w.jsxs)("span",{className:"mb-3 col-6",children:[(0,w.jsx)("svg",{className:"me-2",width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,w.jsx)("rect",{width:"19",height:"19",rx:"9.5",fill:"#F00"})}),"Overdue Collection"]})]})})})]})]})}):null})})})]})};t(43241);var H=t(5970);const Y=()=>{const[e,s]=(0,l.useState)([]),[t,o]=(0,l.useState)([]),[c,u]=(0,l.useState)([]),[x,h]=(0,l.useState)("currentMonth"),[p,j]=(0,l.useState)(!1),[g,v]=(0,l.useState)("aboutMe"),[f,b]=(0,l.useState)({}),[y,N]=(0,l.useState)({buyers:[],docs:[],directors:[],creditlimit:{}}),[C,S]=(0,l.useState)(!1),[D,F]=(0,l.useState)(!1),[E,A]=(0,l.useState)({}),[P,I]=(0,l.useState)(""),[R,M]=(0,l.useState)([]),[T,k]=(0,l.useState)(!1),B=l.useRef(null),[G,O]=(0,l.useState)(!1),[Z,U]=(0,l.useState)(""),[z,W]=(0,l.useState)(!1),[L,X]=(0,l.useState)(!1),[q,Y]=(0,l.useState)({}),[_,J]=(0,l.useState)([]);let[K,Q]=(0,l.useState)({startDate:new Date,endDate:new Date,days:"",name:"days",year:(new Date).getFullYear(),month:-1});const[$,ee]=(0,l.useState)({id:null,name:"",sector:"",osector:"",country:"Uganda",city:"",town:"",streetaddress:"",contactPersonOne:"",phoneOne:"",designationOne:"",contactEmailOne:"",contactPersonTwo:"",phoneTwo:"",designationTwo:"",contactEmailTwo:"",clientBuyerId:null,terms:"choose",code:"+256",code2:"+256"});function se(e,s){!function(e){M([]),(0,d.C1)(e).then((e=>{M(e),j(!1)})).catch((e=>{j(!1),console.log(e),r()("Oops",e.message,"error")}))}({process:s,processId:e.id}),F(!0),A({process:s,obj:e})}function te(){(0,d.E0)().then((e=>{const t=[],l=[];e.dataReturn.map((e=>{e.dateAdded=(0,m.default)(new Date(e.dateAdded),"dd-MMM-yyyy"),e.amount=le(e.amount),t.push(e)})),s(t),e.detailsOnly.map((e=>{e.collType=e.isPastDue?"Past Due":"Normal Collection",e.dateAdded=(0,m.default)(new Date(e.dateAdded),"dd-MMM-yyyy"),e.amount=le(e.amount),l.push(e)})),o(l)})).catch((e=>{console.log(e)}))}R.map((e=>{e.type="VERIFIED"===e.type?(0,w.jsxs)("div",{style:{color:"green"},children:[e.type," ",(0,w.jsx)("i",{className:"fa fa-check"})]}):"DECLINED"===e.type?(0,w.jsxs)("div",{style:{color:"red"},children:[e.type," ",(0,w.jsx)("i",{className:"fa fa-times"})]}):e.type,e.dateAdded=new Date(e.dateAdded).toDateString()})),e.map((e=>{e.collectionDateDisplay=(0,m.default)(new Date(e.collectionDate),"dd-MMM-yyyy"),e.displayDate=(0,m.default)(new Date(e.dateAdded),"dd-MMM-yyyy"),e.displayAmt=e.currency+" "+e.amount,e.add=e.city+" , "+e.country,e.actions=(0,w.jsxs)("div",{className:"",children:["CLIENT_ADDED"===e.type?null:(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",onClick:()=>function(e){b(e),ne(!0)}(e),"data-dismiss":"modal",children:"DISBURSED"===e.progress||"PARTIALY_COLLECTED"===e.progress?"Collect":"Details"})}),e.collections.length>0?(0,w.jsx)("div",{className:"mt-2",children:(0,w.jsx)("button",{type:"button",className:"btn btn-success shadow btn-xs ",onClick:()=>{const s=[];e.collections.map((e=>{e.fineToPay=le(e.fineToPay.toFixed(2)),e.collType=e.isPastDue?"Past Due":"Normal Collection",e.dateAdded=(0,m.default)(new Date(e.dateAdded),"dd-MMM-yyyy"),e.amount=le(e.amount),s.push(e)})),J(s),W(!0),Y(e)},"data-dismiss":"modal",children:"Collections"})}):null]})})),(0,l.useEffect)((()=>{te()}),[]);l.useCallback((()=>{k(!1)}),[]),l.useCallback((()=>B.current),[B.current]);function le(e){return null!==e&&void 0!==e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}H.n.map((e=>(0,w.jsxs)("option",{value:e.dial_code,children:[" "," "+e.name+" ("+e.dial_code+" )"]}))),H.n.map((e=>(0,w.jsxs)("option",{value:e.name,children:[" "," "+e.name+" "]})));const[ae,ne]=(0,l.useState)(!1),ie=(0,l.useMemo)((()=>i.L),[]),oe=(0,l.useMemo)((()=>n),[]),re=(0,a.useTable)({columns:ie,data:oe,initialState:{pageIndex:0}},a.useFilters,a.useGlobalFilter,a.usePagination),[de,ce]=(0,l.useState)([]),{state:me}=re,{globalFilter:ue,pageIndex:xe}=me,he=[];return c.map((e=>{he.push((0,w.jsxs)("option",{disabled:e.amOwner,value:e.id,children:[e.name," ",e.amOwner?"(Already Added)":""]}))})),y.directors.map((e=>{e.status="VERIFIED"===e.status?(0,w.jsxs)("div",{style:{color:"green"},children:[e.status," ",(0,w.jsx)("i",{className:"fa fa-check"})]}):"REJECTED"===e.status?(0,w.jsxs)("div",{style:{color:"red"},children:[e.status," ",(0,w.jsx)("i",{className:"fa fa-times"})]}):e.status,e.actions=(0,w.jsx)("div",{className:"d-flex",children:(0,w.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",onClick:()=>se(e,"directors"),"data-dismiss":"modal",children:"view details"})})})),y.buyers.map((e=>{e.status="VERIFIED"===e.status?(0,w.jsxs)("div",{style:{color:"green"},children:[e.status," ",(0,w.jsx)("i",{className:"fa fa-check"})]}):"REJECTED"===e.status?(0,w.jsxs)("div",{style:{color:"red"},children:[e.status," ",(0,w.jsx)("i",{className:"fa fa-times"})]}):e.status,e.actions=(0,w.jsx)("div",{className:"d-flex",children:(0,w.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",onClick:()=>se(e,"buyers"),"data-dismiss":"modal",children:"view details"})})})),y.docs.map((e=>{e.status="VERIFIED"===e.status?(0,w.jsxs)("div",{style:{color:"green"},children:[e.status," ",(0,w.jsx)("i",{className:"fa fa-check"})]}):"REJECTED"===e.status?(0,w.jsxs)("div",{style:{color:"red"},children:[e.status," ",(0,w.jsx)("i",{className:"fa fa-times"})]}):e.status,e.view=(0,w.jsx)("div",{className:"d-flex",children:(0,w.jsx)("a",{target:"_blank",href:e.path,children:(0,w.jsx)("button",{type:"button",className:"btn btn-success shadow btn-xs ","data-dismiss":"modal",children:"view documnet"})})}),e.actions=(0,w.jsx)("div",{className:"d-flex",children:(0,w.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",onClick:()=>se(e,"docs"),"data-dismiss":"modal",children:"view details"})})})),(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{ref:B,children:(0,w.jsx)(V,{theNameToShow:U,getBuyersInfo:te,setAddFormDataTwo:Q,setRange:h,hideMenu:T,hideDetail:O},T)})})},_=Y}}]);
//# sourceMappingURL=383.68a0c0ce.chunk.js.map