"use strict";(self.webpackChunkpesasa=self.webpackChunkpesasa||[]).push([[905],{96855:(e,a,s)=>{s.r(a),s.d(a,{FilteringTable:()=>j,default:()=>b});var n=s(72791),t=s(33615),l=s(66659),o=s(71358),c=s(92396),d=s(97311),i=(s(25161),s(62062)),r=s.n(i),m=s(34978),u=s(6639),h=s(2499),x=(s(43241),s(5970)),p=s(80184);const j=()=>{const[e,a]=(0,n.useState)([]),[s,i]=(0,n.useState)([]),[j,b]=(0,n.useState)(!1),[N,g]=(0,n.useState)({id:null,name:"",sector:"",osector:"",country:"Uganda",city:"",town:"",streetaddress:"",contactPersonOne:"",phoneOne:"",designationOne:"",contactEmailOne:"",contactPersonTwo:"",phoneTwo:"",designationTwo:"",contactEmailTwo:"",clientBuyerId:null,terms:"choose",code:"+256",code2:"+256"});function f(){g({id:null,name:"",sector:"",osector:"",country:"Uganda",city:"",town:"",streetaddress:"",contactPersonOne:"",phoneOne:"",designationOne:"",contactEmailOne:"",contactPersonTwo:"",phoneTwo:"",designationTwo:"",contactEmailTwo:"",clientBuyerId:null,terms:"choose",code:"+256",code2:"+256"}),y(!0)}function v(){(0,m.G5)().then((e=>{i(e),a(e)})).catch((e=>{console.log(e),r()("Oops",e.message,"error")}))}e.map((e=>{e.add=e.city+" , "+e.country,e.actions=(0,p.jsx)("div",{className:"d-flex",children:"CLIENT_ADDED"===e.type?null:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs sharp me-1",onClick:()=>{return(a=e).actions="",console.log(a),void(a.isApproved||(g(a),y(!0)));var a},"data-dismiss":"modal",children:(0,p.jsx)("i",{className:"fa fa-pencil"})}),(0,p.jsx)("button",{onClick:()=>r()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this information!",icon:"warning",buttons:!0,dangerMode:!0}).then((a=>{a?(0,m.I2)(e.id).then((()=>{r()("Poof!  record has been deleted!",{icon:"success"}),v()})).catch((e=>{console.log(e),r()("Oops",e.message,"error")})):r()("Your information is safe!")})),className:"btn btn-danger shadow btn-xs sharp",children:(0,p.jsx)("i",{className:"fa fa-trash"})})]})})})),(0,n.useEffect)((()=>{v()}),[]);x.n.map((e=>(0,p.jsxs)("option",{value:e.dial_code,children:[" "," "+e.name+" ("+e.dial_code+" )"]}))),x.n.map((e=>(0,p.jsxs)("option",{value:e.name,children:[" "," "+e.name+" "]})));const[w,y]=(0,n.useState)(!1),k=(0,n.useMemo)((()=>d.L),[]),O=(0,n.useMemo)((()=>c),[]),C=(0,o.useTable)({columns:k,data:O,initialState:{pageIndex:0}},o.useFilters,o.useGlobalFilter,o.usePagination),[A,S]=(0,n.useState)([]),{state:T}=C,{globalFilter:E,pageIndex:B}=T,D=[];return s.map((e=>{D.push((0,p.jsxs)("option",{disabled:e.amOwner,value:e.id,children:[e.name," ",e.amOwner?"(Already Added)":""]}))})),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.Z,{activeMenu:"Bank",motherMenu:"Company Data"}),(0,p.jsxs)("div",{className:"card",children:[(0,p.jsx)("div",{className:"card-header",children:(0,p.jsxs)("div",{className:"row",style:{width:"100%"},children:[(0,p.jsx)("div",{className:"col-xl-3 ",children:(0,p.jsx)("h4",{className:"card-title",children:"Banks"})}),(0,p.jsx)("div",{className:"col-xl-3",children:(0,p.jsx)("button",{className:"btn btn-primary font-w600 mb-2 me-auto",onClick:()=>f(),children:"Add New Bank"})})]})}),(0,p.jsxs)("div",{className:"card-body",children:[(0,p.jsx)("div",{className:"row",style:{width:"100%"},children:(0,p.jsx)("div",{className:"col-xl-3 ",children:(0,p.jsx)("h4",{className:"card-title",children:"Added Banks"})})}),(0,p.jsx)(u.Z,{hideDataExport:!0,rows:e,columns:[{name:"name",title:"Name"},{name:"actions",title:"Actions"}],defaultExpandedGroups:[],grouping:[],defaultHiddenColumnNames:[],defaultPageSize:0,hideSelectionExport:!0,infiniteScrolling:!0,fileName:"Banks"})]}),(0,p.jsx)(t.Z,{className:"fade bd-example-modal-lg",size:"lg",show:w,onHide:y,children:(0,p.jsx)("div",{className:"",role:"document",children:(0,p.jsx)("div",{className:"",children:(0,p.jsxs)("form",{children:[(0,p.jsxs)("div",{className:"modal-header",children:[(0,p.jsx)("h4",{className:"modal-title fs-20",children:"Add Bank"}),(0,p.jsx)("button",{type:"button",className:"btn-close",onClick:()=>y(!1),"data-dismiss":"modal"})]}),(0,p.jsxs)("div",{className:"modal-body",children:[(0,p.jsx)("i",{className:"flaticon-cancel-12 close"}),(0,p.jsx)("div",{className:"add-contact-box",children:(0,p.jsx)("div",{className:"add-contact-content",children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col-xl-12 col-xxl-12",children:(0,p.jsxs)("div",{className:"form-group mb-3",children:[(0,p.jsxs)("label",{className:"text-black font-w500",children:[(0,p.jsx)("b",{style:{color:"red"},children:"*"})," Name"]}),(0,p.jsxs)("div",{className:"contact-name",children:[(0,p.jsx)("input",{type:"text",className:"form-control",autoComplete:"off",value:N.name,name:"name",required:"required",onChange:e=>{e.preventDefault();const a=e.target.getAttribute("name"),s=e.target.value,n={...N};n[a]=s,g(n)},placeholder:" Name"}),(0,p.jsx)("span",{className:"validation-text"})]})]})})})})})]}),(0,p.jsxs)("div",{className:"modal-footer",children:[j?(0,p.jsx)(h.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:j}):(0,p.jsxs)("button",{type:"submit",className:"btn btn-primary",onClick:e=>{e.preventDefault();var a=!1,s="";N.actions="",""===N.name&&(a=!0,s="Please fill bank name"),a?r()("Oops",s,"error"):(console.log(N),b(!0),(0,m.KL)(N).then((e=>{b(!1),y(!1),r()("Good job!","Successfully Added","success"),v()})).catch((e=>{b(!1),console.log(e),r()("Oops",e.message,"error")})))},children:[null===N.id?"Add":"Update"," Bank"]}),(0,p.jsxs)("button",{type:"button",onClick:()=>y(!1),className:"btn btn-danger",children:[" ",(0,p.jsx)("i",{className:"flaticon-delete-1"})," Discard"]})]})]})})})})]})]})},b=j},25161:(e,a,s)=>{s(72791),s(80184)}}]);
//# sourceMappingURL=905.2bbe01db.chunk.js.map