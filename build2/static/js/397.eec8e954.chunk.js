"use strict";(self.webpackChunkpesasa=self.webpackChunkpesasa||[]).push([[397],{7757:(e,a,s)=>{s.d(a,{n:()=>n});const n=[{name:"Afghanistan",dial_code:"+93",code:"AF"},{name:"Aland Islands",dial_code:"+358",code:"AX"},{name:"Albania",dial_code:"+355",code:"AL"},{name:"Algeria",dial_code:"+213",code:"DZ"},{name:"AmericanSamoa",dial_code:"+1684",code:"AS"},{name:"Andorra",dial_code:"+376",code:"AD"},{name:"Angola",dial_code:"+244",code:"AO"},{name:"Anguilla",dial_code:"+1264",code:"AI"},{name:"Antarctica",dial_code:"+672",code:"AQ"},{name:"Antigua and Barbuda",dial_code:"+1268",code:"AG"},{name:"Argentina",dial_code:"+54",code:"AR"},{name:"Armenia",dial_code:"+374",code:"AM"},{name:"Aruba",dial_code:"+297",code:"AW"},{name:"Australia",dial_code:"+61",code:"AU"},{name:"Austria",dial_code:"+43",code:"AT"},{name:"Azerbaijan",dial_code:"+994",code:"AZ"},{name:"Bahamas",dial_code:"+1242",code:"BS"},{name:"Bahrain",dial_code:"+973",code:"BH"},{name:"Bangladesh",dial_code:"+880",code:"BD"},{name:"Barbados",dial_code:"+1246",code:"BB"},{name:"Belarus",dial_code:"+375",code:"BY"},{name:"Belgium",dial_code:"+32",code:"BE"},{name:"Belize",dial_code:"+501",code:"BZ"},{name:"Benin",dial_code:"+229",code:"BJ"},{name:"Bermuda",dial_code:"+1441",code:"BM"},{name:"Bhutan",dial_code:"+975",code:"BT"},{name:"Bolivia, Plurinational State of",dial_code:"+591",code:"BO"},{name:"Bosnia and Herzegovina",dial_code:"+387",code:"BA"},{name:"Botswana",dial_code:"+267",code:"BW"},{name:"Brazil",dial_code:"+55",code:"BR"},{name:"British Indian Ocean Territory",dial_code:"+246",code:"IO"},{name:"Brunei Darussalam",dial_code:"+673",code:"BN"},{name:"Bulgaria",dial_code:"+359",code:"BG"},{name:"Burkina Faso",dial_code:"+226",code:"BF"},{name:"Burundi",dial_code:"+257",code:"BI"},{name:"Cambodia",dial_code:"+855",code:"KH"},{name:"Cameroon",dial_code:"+237",code:"CM"},{name:"Canada",dial_code:"+1",code:"CA"},{name:"Cape Verde",dial_code:"+238",code:"CV"},{name:"Cayman Islands",dial_code:"+ 345",code:"KY"},{name:"Central African Republic",dial_code:"+236",code:"CF"},{name:"Chad",dial_code:"+235",code:"TD"},{name:"Chile",dial_code:"+56",code:"CL"},{name:"China",dial_code:"+86",code:"CN"},{name:"Christmas Island",dial_code:"+61",code:"CX"},{name:"Cocos (Keeling) Islands",dial_code:"+61",code:"CC"},{name:"Colombia",dial_code:"+57",code:"CO"},{name:"Comoros",dial_code:"+269",code:"KM"},{name:"Congo",dial_code:"+242",code:"CG"},{name:"Congo, The Democratic Republic of the Congo",dial_code:"+243",code:"CD"},{name:"Cook Islands",dial_code:"+682",code:"CK"},{name:"Costa Rica",dial_code:"+506",code:"CR"},{name:"Cote d'Ivoire",dial_code:"+225",code:"CI"},{name:"Croatia",dial_code:"+385",code:"HR"},{name:"Cuba",dial_code:"+53",code:"CU"},{name:"Cyprus",dial_code:"+357",code:"CY"},{name:"Czech Republic",dial_code:"+420",code:"CZ"},{name:"Denmark",dial_code:"+45",code:"DK"},{name:"Djibouti",dial_code:"+253",code:"DJ"},{name:"Dominica",dial_code:"+1767",code:"DM"},{name:"Dominican Republic",dial_code:"+1849",code:"DO"},{name:"Ecuador",dial_code:"+593",code:"EC"},{name:"Egypt",dial_code:"+20",code:"EG"},{name:"El Salvador",dial_code:"+503",code:"SV"},{name:"Equatorial Guinea",dial_code:"+240",code:"GQ"},{name:"Eritrea",dial_code:"+291",code:"ER"},{name:"Estonia",dial_code:"+372",code:"EE"},{name:"Ethiopia",dial_code:"+251",code:"ET"},{name:"Falkland Islands (Malvinas)",dial_code:"+500",code:"FK"},{name:"Faroe Islands",dial_code:"+298",code:"FO"},{name:"Fiji",dial_code:"+679",code:"FJ"},{name:"Finland",dial_code:"+358",code:"FI"},{name:"France",dial_code:"+33",code:"FR"},{name:"French Guiana",dial_code:"+594",code:"GF"},{name:"French Polynesia",dial_code:"+689",code:"PF"},{name:"Gabon",dial_code:"+241",code:"GA"},{name:"Gambia",dial_code:"+220",code:"GM"},{name:"Georgia",dial_code:"+995",code:"GE"},{name:"Germany",dial_code:"+49",code:"DE"},{name:"Ghana",dial_code:"+233",code:"GH"},{name:"Gibraltar",dial_code:"+350",code:"GI"},{name:"Greece",dial_code:"+30",code:"GR"},{name:"Greenland",dial_code:"+299",code:"GL"},{name:"Grenada",dial_code:"+1473",code:"GD"},{name:"Guadeloupe",dial_code:"+590",code:"GP"},{name:"Guam",dial_code:"+1671",code:"GU"},{name:"Guatemala",dial_code:"+502",code:"GT"},{name:"Guernsey",dial_code:"+44",code:"GG"},{name:"Guinea",dial_code:"+224",code:"GN"},{name:"Guinea-Bissau",dial_code:"+245",code:"GW"},{name:"Guyana",dial_code:"+595",code:"GY"},{name:"Haiti",dial_code:"+509",code:"HT"},{name:"Holy See (Vatican City State)",dial_code:"+379",code:"VA"},{name:"Honduras",dial_code:"+504",code:"HN"},{name:"Hong Kong",dial_code:"+852",code:"HK"},{name:"Hungary",dial_code:"+36",code:"HU"},{name:"Iceland",dial_code:"+354",code:"IS"},{name:"India",dial_code:"+91",code:"IN"},{name:"Indonesia",dial_code:"+62",code:"ID"},{name:"Iran, Islamic Republic of Persian Gulf",dial_code:"+98",code:"IR"},{name:"Iraq",dial_code:"+964",code:"IQ"},{name:"Ireland",dial_code:"+353",code:"IE"},{name:"Isle of Man",dial_code:"+44",code:"IM"},{name:"Israel",dial_code:"+972",code:"IL"},{name:"Italy",dial_code:"+39",code:"IT"},{name:"Jamaica",dial_code:"+1876",code:"JM"},{name:"Japan",dial_code:"+81",code:"JP"},{name:"Jersey",dial_code:"+44",code:"JE"},{name:"Jordan",dial_code:"+962",code:"JO"},{name:"Kazakhstan",dial_code:"+77",code:"KZ"},{name:"Kenya",dial_code:"+254",code:"KE"},{name:"Kiribati",dial_code:"+686",code:"KI"},{name:"Korea, Democratic People's Republic of Korea",dial_code:"+850",code:"KP"},{name:"Korea, Republic of South Korea",dial_code:"+82",code:"KR"},{name:"Kuwait",dial_code:"+965",code:"KW"},{name:"Kyrgyzstan",dial_code:"+996",code:"KG"},{name:"Laos",dial_code:"+856",code:"LA"},{name:"Latvia",dial_code:"+371",code:"LV"},{name:"Lebanon",dial_code:"+961",code:"LB"},{name:"Lesotho",dial_code:"+266",code:"LS"},{name:"Liberia",dial_code:"+231",code:"LR"},{name:"Libyan Arab Jamahiriya",dial_code:"+218",code:"LY"},{name:"Liechtenstein",dial_code:"+423",code:"LI"},{name:"Lithuania",dial_code:"+370",code:"LT"},{name:"Luxembourg",dial_code:"+352",code:"LU"},{name:"Macao",dial_code:"+853",code:"MO"},{name:"Macedonia",dial_code:"+389",code:"MK"},{name:"Madagascar",dial_code:"+261",code:"MG"},{name:"Malawi",dial_code:"+265",code:"MW"},{name:"Malaysia",dial_code:"+60",code:"MY"},{name:"Maldives",dial_code:"+960",code:"MV"},{name:"Mali",dial_code:"+223",code:"ML"},{name:"Malta",dial_code:"+356",code:"MT"},{name:"Marshall Islands",dial_code:"+692",code:"MH"},{name:"Martinique",dial_code:"+596",code:"MQ"},{name:"Mauritania",dial_code:"+222",code:"MR"},{name:"Mauritius",dial_code:"+230",code:"MU"},{name:"Mayotte",dial_code:"+262",code:"YT"},{name:"Mexico",dial_code:"+52",code:"MX"},{name:"Micronesia, Federated States of Micronesia",dial_code:"+691",code:"FM"},{name:"Moldova",dial_code:"+373",code:"MD"},{name:"Monaco",dial_code:"+377",code:"MC"},{name:"Mongolia",dial_code:"+976",code:"MN"},{name:"Montenegro",dial_code:"+382",code:"ME"},{name:"Montserrat",dial_code:"+1664",code:"MS"},{name:"Morocco",dial_code:"+212",code:"MA"},{name:"Mozambique",dial_code:"+258",code:"MZ"},{name:"Myanmar",dial_code:"+95",code:"MM"},{name:"Namibia",dial_code:"+264",code:"NA"},{name:"Nauru",dial_code:"+674",code:"NR"},{name:"Nepal",dial_code:"+977",code:"NP"},{name:"Netherlands",dial_code:"+31",code:"NL"},{name:"Netherlands Antilles",dial_code:"+599",code:"AN"},{name:"New Caledonia",dial_code:"+687",code:"NC"},{name:"New Zealand",dial_code:"+64",code:"NZ"},{name:"Nicaragua",dial_code:"+505",code:"NI"},{name:"Niger",dial_code:"+227",code:"NE"},{name:"Nigeria",dial_code:"+234",code:"NG"},{name:"Niue",dial_code:"+683",code:"NU"},{name:"Norfolk Island",dial_code:"+672",code:"NF"},{name:"Northern Mariana Islands",dial_code:"+1670",code:"MP"},{name:"Norway",dial_code:"+47",code:"NO"},{name:"Oman",dial_code:"+968",code:"OM"},{name:"Pakistan",dial_code:"+92",code:"PK"},{name:"Palau",dial_code:"+680",code:"PW"},{name:"Palestinian Territory, Occupied",dial_code:"+970",code:"PS"},{name:"Panama",dial_code:"+507",code:"PA"},{name:"Papua New Guinea",dial_code:"+675",code:"PG"},{name:"Paraguay",dial_code:"+595",code:"PY"},{name:"Peru",dial_code:"+51",code:"PE"},{name:"Philippines",dial_code:"+63",code:"PH"},{name:"Pitcairn",dial_code:"+872",code:"PN"},{name:"Poland",dial_code:"+48",code:"PL"},{name:"Portugal",dial_code:"+351",code:"PT"},{name:"Puerto Rico",dial_code:"+1939",code:"PR"},{name:"Qatar",dial_code:"+974",code:"QA"},{name:"Romania",dial_code:"+40",code:"RO"},{name:"Russia",dial_code:"+7",code:"RU"},{name:"Rwanda",dial_code:"+250",code:"RW"},{name:"Reunion",dial_code:"+262",code:"RE"},{name:"Saint Barthelemy",dial_code:"+590",code:"BL"},{name:"Saint Helena, Ascension and Tristan Da Cunha",dial_code:"+290",code:"SH"},{name:"Saint Kitts and Nevis",dial_code:"+1869",code:"KN"},{name:"Saint Lucia",dial_code:"+1758",code:"LC"},{name:"Saint Martin",dial_code:"+590",code:"MF"},{name:"Saint Pierre and Miquelon",dial_code:"+508",code:"PM"},{name:"Saint Vincent and the Grenadines",dial_code:"+1784",code:"VC"},{name:"Samoa",dial_code:"+685",code:"WS"},{name:"San Marino",dial_code:"+378",code:"SM"},{name:"Sao Tome and Principe",dial_code:"+239",code:"ST"},{name:"Saudi Arabia",dial_code:"+966",code:"SA"},{name:"Senegal",dial_code:"+221",code:"SN"},{name:"Serbia",dial_code:"+381",code:"RS"},{name:"Seychelles",dial_code:"+248",code:"SC"},{name:"Sierra Leone",dial_code:"+232",code:"SL"},{name:"Singapore",dial_code:"+65",code:"SG"},{name:"Slovakia",dial_code:"+421",code:"SK"},{name:"Slovenia",dial_code:"+386",code:"SI"},{name:"Solomon Islands",dial_code:"+677",code:"SB"},{name:"Somalia",dial_code:"+252",code:"SO"},{name:"South Africa",dial_code:"+27",code:"ZA"},{name:"South Sudan",dial_code:"+211",code:"SS"},{name:"South Georgia and the South Sandwich Islands",dial_code:"+500",code:"GS"},{name:"Spain",dial_code:"+34",code:"ES"},{name:"Sri Lanka",dial_code:"+94",code:"LK"},{name:"Sudan",dial_code:"+249",code:"SD"},{name:"Suriname",dial_code:"+597",code:"SR"},{name:"Svalbard and Jan Mayen",dial_code:"+47",code:"SJ"},{name:"Swaziland",dial_code:"+268",code:"SZ"},{name:"Sweden",dial_code:"+46",code:"SE"},{name:"Switzerland",dial_code:"+41",code:"CH"},{name:"Syrian Arab Republic",dial_code:"+963",code:"SY"},{name:"Taiwan",dial_code:"+886",code:"TW"},{name:"Tajikistan",dial_code:"+992",code:"TJ"},{name:"Tanzania, United Republic of Tanzania",dial_code:"+255",code:"TZ"},{name:"Thailand",dial_code:"+66",code:"TH"},{name:"Timor-Leste",dial_code:"+670",code:"TL"},{name:"Togo",dial_code:"+228",code:"TG"},{name:"Tokelau",dial_code:"+690",code:"TK"},{name:"Tonga",dial_code:"+676",code:"TO"},{name:"Trinidad and Tobago",dial_code:"+1868",code:"TT"},{name:"Tunisia",dial_code:"+216",code:"TN"},{name:"Turkey",dial_code:"+90",code:"TR"},{name:"Turkmenistan",dial_code:"+993",code:"TM"},{name:"Turks and Caicos Islands",dial_code:"+1649",code:"TC"},{name:"Tuvalu",dial_code:"+688",code:"TV"},{name:"Uganda",dial_code:"+256",code:"UG"},{name:"Ukraine",dial_code:"+380",code:"UA"},{name:"United Arab Emirates",dial_code:"+971",code:"AE"},{name:"United Kingdom",dial_code:"+44",code:"GB"},{name:"United States",dial_code:"+1",code:"US"},{name:"Uruguay",dial_code:"+598",code:"UY"},{name:"Uzbekistan",dial_code:"+998",code:"UZ"},{name:"Vanuatu",dial_code:"+678",code:"VU"},{name:"Venezuela, Bolivarian Republic of Venezuela",dial_code:"+58",code:"VE"},{name:"Vietnam",dial_code:"+84",code:"VN"},{name:"Virgin Islands, British",dial_code:"+1284",code:"VG"},{name:"Virgin Islands, U.S.",dial_code:"+1340",code:"VI"},{name:"Wallis and Futuna",dial_code:"+681",code:"WF"},{name:"Yemen",dial_code:"+967",code:"YE"},{name:"Zambia",dial_code:"+260",code:"ZM"},{name:"Zimbabwe",dial_code:"+263",code:"ZW"}]},86014:(e,a,s)=>{s.d(a,{Z:()=>r});var n=s(72791),l=s(5970),d=s(34978),o=s(2499),t=s(62062),c=s.n(t),i=s(80184);const r=e=>{const[a,s]=(0,n.useState)(!1),[t,r]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[h,x]=(0,n.useState)(!1),[p,b]=(l.n.map((e=>(0,i.jsxs)("option",{value:e.name,children:[" "," "+e.name+" "]}))),l.n.map((e=>(0,i.jsxs)("option",{value:e.dial_code,children:[" "," "+e.name+" ("+e.dial_code+" )"]}))),(0,n.useState)({id:null,currency:"",invoices:"",credit:"",limit:"",hasLoan:"",hasLien:""}));(0,n.useEffect)((()=>{u(!0),b(e.data)}),[]);!function(e,a){const s=[];for(var n=e;n<a;n++)s.push(n);s.push(a)}(2021,(new Date).getFullYear());const j=e=>{e.preventDefault();const a=e.target.getAttribute("name"),s=e.target.value.split(",").join("");if(!isNaN(s)){const e={...p};e[a]=s,b(e)}};return(0,i.jsxs)("section",{style:{marginTop:"10px"},children:[(0,i.jsx)("div",{className:"card",style:{padding:"30px"},children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col",children:(0,i.jsx)("h4",{children:"Bank Account"})})})}),(0,i.jsx)("div",{className:"card",style:{padding:"30px"},children:(0,i.jsxs)("div",{className:"row",style:{marginTop:"20px"},children:[(0,i.jsxs)("div",{className:"col-md-6 mb-2",children:[(0,i.jsx)("label",{className:"text-black font-w500",children:" Account Name"}),(0,i.jsxs)("div",{className:"contact-name",children:[(0,i.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"invoices",required:"required",onChange:j,placeholder:"Account Name"}),(0,i.jsx)("span",{className:"validation-text"})]})]}),(0,i.jsx)("div",{className:"col-md-6 mb-2",children:(0,i.jsxs)("div",{className:"form-group mb-3",children:[(0,i.jsx)("label",{className:"text-black font-w500",children:"Account Number"}),(0,i.jsx)("div",{className:"contact-name",children:(0,i.jsx)("div",{className:"form-group mb-0",children:(0,i.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"limit",required:"required",onChange:j,placeholder:"Account Number"})})})]})}),(0,i.jsx)("div",{className:"col-md-6 mb-2",children:(0,i.jsxs)("div",{className:"form-group mb-3",children:[(0,i.jsx)("label",{className:"text-black font-w500",children:"Name of Bank"}),(0,i.jsx)("div",{className:"contact-name",children:(0,i.jsx)("div",{className:"form-group mb-0",children:(0,i.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"limit",required:"required",onChange:j,placeholder:"Name of Bank"})})})]})}),(0,i.jsx)("div",{className:"col-md-6 mb-2",children:(0,i.jsxs)("div",{className:"form-group mb-3",children:[(0,i.jsx)("label",{className:"text-black font-w500",children:"Branch"}),(0,i.jsx)("div",{className:"contact-name",children:(0,i.jsx)("div",{className:"form-group mb-0",children:(0,i.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"limit",required:"required",onChange:j,placeholder:"Branch"})})})]})}),(0,i.jsx)("div",{className:"col-lg-12 mb-12",style:{textAlign:"left",marginTop:"30px"},children:t?(0,i.jsx)(o.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:t}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("button",{disabled:!0,style:{width:"auto"},className:"btn btn-success",onClick:e=>(e=>{e.preventDefault();var a=!1,n="";p.limit=p.limit.split(",").join(""),p.invoices=p.invoices.split(",").join(""),""===p.currency?(a=!0,n="Please choose credit limit currency"):""===p.invoices?(a=!0,n="Please add average of total value of invoices issued per month"):""===p.credit?(a=!0,n="Please add average credit period of invoices"):""===p.limit?(a=!0,n="Please add limit Requested (Minimum Ugshs 5,000,000 )"):p.limit<5e6?(a=!0,n="Limit requested is below the 5,000,000 minimum"):""===p.hasLoan?(a=!0,n="Please select if you have a loan"):""===p.hasLien&&(a=!0,n="Please indicate if there is a lien over your receivables or debenture over floating assets/debtors/receivables"),a?c()("Oops",n,"error"):(console.log(p),(0,d.Hc)(p).then((e=>{s(!1),c()("Good job!","Successfully saved data","success"),r(!1)})).catch((e=>{console.log(e),c()("Oops",e.message,"error")})))})(e),children:"Verify Info"})})})]})})]})}},25161:(e,a,s)=>{s(72791),s(80184)},4467:(e,a,s)=>{s.r(a),s.d(a,{FilteringTable:()=>Y,default:()=>q});var n=s(72791),l=s(66659),d=s(71358),o=s(92396),t=s(97311),c=(s(25161),s(62062)),i=s.n(c),r=s(91523),m=s(5803),u=s(22389),h=s(82945),x=s(34978),p=s(59513),b=s.n(p),j=s(80184);let N=(new Date).getFullYear();const v=[],g=(new Date).getFullYear();for(var f=2021;f<g;f++)v.push((0,j.jsx)("option",{value:f,children:f}));v.push((0,j.jsx)("option",{value:g,children:g}));const y=function(e,a){const s=[];for(var n=e;n<a;n++)s.push(n);return s.push(a),s}(2021,(new Date).getFullYear());const _=["January","February","March","April","May","June","July","August","September","October","November","December"],D=(0,m.ZP)((()=>(0,u.Z)(Promise.all([s.e(496),s.e(675)]).then(s.bind(s,78675)),1e3))),C=(0,m.ZP)((()=>(0,u.Z)(Promise.all([s.e(496),s.e(712)]).then(s.bind(s,45712)),1e3))),w=()=>(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(h.Z,{className:"dropdown custom-dropdown mb-0",children:[(0,j.jsx)(h.Z.Toggle,{variant:"",as:"div",className:"btn sharp tp-btn dark-btn i-false",children:(0,j.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,j.jsx)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z",stroke:"#342E59","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,j.jsx)("path",{d:"M12 6C12.5523 6 13 5.55228 13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5C11 5.55228 11.4477 6 12 6Z",stroke:"#342E59","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,j.jsx)("path",{d:"M12 20C12.5523 20 13 19.5523 13 19C13 18.4477 12.5523 18 12 18C11.4477 18 11 18.4477 11 19C11 19.5523 11.4477 20 12 20Z",stroke:"#342E59","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})}),(0,j.jsxs)(h.Z.Menu,{className:"dropdown-menu dropdown-menu-right",children:[(0,j.jsx)(h.Z.Item,{children:"Details "}),(0,j.jsx)(h.Z.Item,{className:"text-danger",children:"Cancel "})]})]})}),S=e=>{let{hideDetail:a,hideMenu:s,setRange:l,setAddFormDataTwo:d,getBuyersInfo:o,theNameToShow:t}=e;const[c,m]=(0,n.useState)("Medan, IDN"),[u,h]=(0,n.useState)({}),[p,g]=(0,n.useState)([0,0,0,0,0,0,0,0,0,0,0,0]),[f,S]=(0,n.useState)([]);const[M,A]=(0,n.useState)({startDate:new Date,endDate:new Date,days:"",name:"days",year:(new Date).getFullYear(),month:-1}),k=e=>{e.preventDefault();const a=e.target.getAttribute("name"),s=e.target.value,n={...M};n[a]=s,A(n)};function I(e){return null!==e&&void 0!==e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}function T(e){(0,x.Df)(e).then((a=>{S(a),g(Math.random()),N=e})).catch((e=>{console.log(e),i()("Oops",e.message,"error")}))}return(0,n.useEffect)((()=>{T((new Date).getFullYear()),(0,x.Ub)().then((e=>{h(e)})).catch((e=>{console.log(e),i()("Oops",e.message,"error")}))}),[]),(0,j.jsxs)(j.Fragment,{children:[s?null:(0,j.jsxs)("div",{className:"mb-sm-5 mb-3 d-flex flex-wrap align-items-center text-head",children:[(0,j.jsx)("h2",{className:"font-w600 mb-2 me-auto",children:"Payments Summary"}),(0,j.jsx)(r.rU,{to:"#",className:"btn btn-primary mb-2 rounded",onClick:()=>(t(u.name),o(),void a(!0)),children:"Show Details"})]}),(0,j.jsxs)("div",{className:"row",children:[s?null:(0,j.jsx)("div",{className:"col-xl-4 col-xxl-4",children:(0,j.jsxs)("div",{className:"card",children:[(0,j.jsx)("div",{className:"card-header border-0",children:(0,j.jsx)("h4",{className:"mb-0 text-black fs-20",children:"Data Filters"})}),(0,j.jsxs)("div",{style:{padding:"20px"},children:[(0,j.jsx)("div",{style:{borderBottom:"1px solid #CCC",marginBottom:"20px",paddingBottom:"20px"},children:(0,j.jsxs)("div",{className:"form-group ",children:[(0,j.jsx)("b",{style:{color:"black"},children:(0,j.jsx)("u",{children:"Filter By No. Of Days"})}),(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsx)("span",{className:"validation-text",children:" Payments waiting for more than "}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col-xl-6 col-xxl-6",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Number"}),(0,j.jsx)("div",{className:"contact-name",children:(0,j.jsx)("input",{type:"text",className:"form-control",autoComplete:"off",name:"days",value:I(M.days),onChange:k,placeholder:"No. "})})]}),(0,j.jsx)("div",{className:"col-xl-6 col-xxl-6",children:(0,j.jsxs)("div",{className:"form-group ",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Select Type"}),(0,j.jsx)("div",{className:"form-group ",children:(0,j.jsxs)("select",{value:M.name,name:"name",onChange:k,defaultValue:"days",className:"form-control",id:"sel1",children:[(0,j.jsx)("option",{value:"days",children:"Days"}),(0,j.jsx)("option",{value:"weeks",children:"Weeks"}),(0,j.jsx)("option",{value:"months",children:"Months"}),(0,j.jsx)("option",{value:"years",children:"Years"})]})})]})})]}),(0,j.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",style:{marginLeft:"15px",marginTop:"15px"},onClick:()=>(l("daysNumber"),d(M),void(0,x.Gp)(M).then((e=>{h(e)})).catch((e=>{console.log(e),i()("Oops",e.message,"error")}))),"data-dismiss":"modal",children:"Pick Data"})]})]})]})}),(0,j.jsxs)("div",{className:"row",style:{borderBottom:"1px solid #CCC",marginBottom:"20px",paddingBottom:"20px",marginTop:"10px",width:"100%"},children:[(0,j.jsx)("b",{style:{color:"black"},children:(0,j.jsx)("u",{children:"Filter By Year / Month"})}),(0,j.jsx)("div",{className:"col-xl-6 col-xxl-6",children:(0,j.jsxs)("div",{className:"form-group ",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Year"}),(0,j.jsx)("div",{className:"form-group ",children:(0,j.jsx)("select",{value:M.year,name:"year",onChange:k,defaultValue:(new Date).getFullYear(),className:"form-control",id:"sel1",children:v})})]})}),(0,j.jsx)("div",{className:"col-xl-6 col-xxl-6",children:(0,j.jsxs)("div",{className:"form-group ",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Month"}),(0,j.jsx)("div",{className:"form-group ",children:(0,j.jsxs)("select",{value:M.month,name:"month",onChange:k,defaultValue:-1,className:"form-control",id:"sel1",children:[(0,j.jsx)("option",{value:-1,children:"None"}),(0,j.jsx)("option",{value:0,children:"January"}),(0,j.jsx)("option",{value:1,children:"Febuary"}),(0,j.jsx)("option",{value:2,children:"March"}),(0,j.jsx)("option",{value:3,children:"April"}),(0,j.jsx)("option",{value:4,children:"May"}),(0,j.jsx)("option",{value:5,children:"June"}),(0,j.jsx)("option",{value:6,children:"July"}),(0,j.jsx)("option",{value:7,children:"August"}),(0,j.jsx)("option",{value:8,children:"September"}),(0,j.jsx)("option",{value:9,children:"October"}),(0,j.jsx)("option",{value:10,children:"November"}),(0,j.jsx)("option",{value:11,children:"December"})]})})]})}),(0,j.jsx)("div",{className:"col-xl-6 col-xxl-6",children:(0,j.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",style:{marginLeft:"15px",marginTop:"15px"},onClick:()=>(l("yearOrMonth"),d(M),void(0,x.WZ)(M).then((e=>{N!==M.year&&T(M.year),h(e)})).catch((e=>{console.log(e),i()("Oops",e.message,"error")}))),"data-dismiss":"modal",children:"Pick Data"})})]}),(0,j.jsxs)("div",{className:"row",style:{marginTop:"10px",width:"100%"},children:[(0,j.jsx)("b",{style:{color:"black"},children:(0,j.jsx)("u",{children:"Filter By Date Range"})}),(0,j.jsx)("div",{className:"col-xl-6 col-xxl-6",children:(0,j.jsxs)("div",{className:"form-group mb-0",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Start Date"}),(0,j.jsx)(b(),{dateFormat:"dd/MM/yyyy",className:"form-control",renderCustomHeader:e=>{let{date:a,changeYear:s,changeMonth:n,decreaseMonth:l,increaseMonth:d,prevMonthButtonDisabled:o,nextMonthButtonDisabled:t}=e;return(0,j.jsxs)("div",{style:{margin:10,display:"flex",justifyContent:"center"},children:[(0,j.jsx)("button",{onClick:l,disabled:o,children:"<"}),(0,j.jsx)("select",{value:a.getFullYear(),onChange:e=>{let{target:{value:a}}=e;return s(a)},children:y.map((e=>(0,j.jsx)("option",{value:e,children:e},e)))}),(0,j.jsx)("select",{value:_[a.getMonth()],onChange:e=>{let{target:{value:a}}=e;return n(_.indexOf(a))},children:_.map((e=>(0,j.jsx)("option",{value:e,children:e},e)))}),(0,j.jsx)("button",{onClick:d,disabled:t,children:">"})]})},placeholder:"Start Date",name:"startDate",selected:M.startDate,onChange:e=>{const a=e,s={...M};s.startDate=a,A(s)}})]})}),(0,j.jsx)("div",{className:"col-xl-6 col-xxl-6",children:(0,j.jsxs)("div",{className:"form-group mb-0",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"End Date"}),(0,j.jsx)(b(),{dateFormat:"dd/MM/yyyy",className:"form-control",renderCustomHeader:e=>{let{date:a,changeYear:s,changeMonth:n,decreaseMonth:l,increaseMonth:d,prevMonthButtonDisabled:o,nextMonthButtonDisabled:t}=e;return(0,j.jsxs)("div",{style:{margin:10,display:"flex",justifyContent:"center"},children:[(0,j.jsx)("button",{onClick:l,disabled:o,children:"<"}),(0,j.jsx)("select",{value:a.getFullYear(),onChange:e=>{let{target:{value:a}}=e;return s(a)},children:y.map((e=>(0,j.jsx)("option",{value:e,children:e},e)))}),(0,j.jsx)("select",{value:_[a.getMonth()],onChange:e=>{let{target:{value:a}}=e;return n(_.indexOf(a))},children:_.map((e=>(0,j.jsx)("option",{value:e,children:e},e)))}),(0,j.jsx)("button",{onClick:d,disabled:t,children:">"})]})},placeholder:"End Date",name:"endDate",selected:M.endDate,onChange:e=>{const a=e,s={...M};s.endDate=a,A(s)}})]})}),(0,j.jsx)("div",{className:"col-xl-6 col-xxl-6",children:(0,j.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",style:{marginLeft:"15px",marginTop:"15px"},onClick:()=>(l("dateRange"),d(M),void(0,x.W2)(M).then((e=>{h(e)})).catch((e=>{console.log(e),i()("Oops",e.message,"error")}))),"data-dismiss":"modal",children:"Pick Data"})})]})]})]})}),(0,j.jsx)("div",{className:s?"col-xl-12 col-xxl-12":"col-xl-8 col-xxl-8",children:(0,j.jsxs)("div",{className:"card",children:[(0,j.jsxs)("div",{className:"card-header border-0 pb-0",children:[(0,j.jsxs)("h4",{className:"mb-0 fs-20 text-black",children:["Payments Totals For ",u.name]}),(0,j.jsx)(w,{})]}),(0,j.jsxs)("div",{className:"card-body",children:[(0,j.jsxs)("div",{className:"bg-gradient-1 coin-holding flex-wrap",style:{flexDirection:"row"},children:[(0,j.jsx)("div",{className:"mb-2 coin-bx",style:{flex:1},children:(0,j.jsx)("div",{className:"d-flex align-items-center",children:(0,j.jsxs)("div",{className:"ms-3",children:[(0,j.jsx)("h4",{className:"coin-font font-w600 mb-0",children:"All Payments"}),(0,j.jsxs)("b",{className:"mb-0 op-6",style:{color:"#000"},children:["Total: ",u.allNumber]})]})})}),(0,j.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,j.jsxs)("div",{className:"d-flex align-items-center",children:[(0,j.jsx)("div",{className:"coin-bx-one",children:"Total Cost:"}),(0,j.jsx)("div",{className:"ms-3",children:(0,j.jsxs)("h2",{className:"mb-0 text-primary coin-font-1",children:["UGX.",I(u.all)]})})]})}),(0,j.jsx)("div",{className:"mb-2"})]}),(0,j.jsxs)("div",{className:"bg-gradient-2 coin-holding mt-4 flex-wrap",style:{flexDirection:"row"},children:[(0,j.jsx)("div",{className:"mb-2 coin-bx",style:{flex:1},children:(0,j.jsx)("div",{className:"d-flex align-items-center",children:(0,j.jsxs)("div",{className:"ms-3",children:[(0,j.jsx)("h4",{className:"coin-font font-w600 mb-0",children:"Pending Payments"}),(0,j.jsxs)("b",{className:"mb-0 op-6",style:{color:"#000"},children:["Total: ",u.pendingNumber]})]})})}),(0,j.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,j.jsxs)("div",{className:"d-flex align-items-center",children:[(0,j.jsx)("div",{className:"coin-bx-one",children:"Total Cost:"}),(0,j.jsx)("div",{className:"ms-3",children:(0,j.jsxs)("h2",{className:"mb-0 text-primary coin-font-1",children:["UGX.",I(u.pending)]})})]})}),(0,j.jsx)("div",{className:"mb-2"})]}),(0,j.jsxs)("div",{className:"bg-gradient-3 coin-holding mt-4 flex-wrap",style:{flexDirection:"row"},children:[(0,j.jsx)("div",{className:"mb-2 coin-bx",style:{flex:1},children:(0,j.jsx)("div",{className:"d-flex align-items-center",children:(0,j.jsxs)("div",{className:"ms-3",children:[(0,j.jsx)("h4",{className:"coin-font font-w600 mb-0",children:"Paid Applications"}),(0,j.jsxs)("b",{className:"mb-0 op-6",style:{color:"#000"},children:["Total:",u.approvedNumber]})]})})}),(0,j.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,j.jsxs)("div",{className:"d-flex align-items-center",children:[(0,j.jsx)("div",{className:"coin-bx-one",children:"Total Cost:"}),(0,j.jsx)("div",{className:"ms-3",children:(0,j.jsxs)("h2",{className:"mb-0 text-primary coin-font-1",children:["UGX.",I(u.approved)]})})]})})]})]})]})})]}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col-xl-4",children:[(0,j.jsx)("div",{className:"row"}),(0,j.jsx)("div",{className:"row",children:u.length>0?(0,j.jsx)("div",{className:"col-xl-12 col-xxl-12 col-md-12",children:(0,j.jsxs)("div",{className:"card",children:[(0,j.jsxs)("div",{className:"card-header pb-0 border-0",children:[(0,j.jsx)("h4",{className:"mb-0 fs-20 text-black",children:"Current Graph"}),(0,j.jsx)(w,{})]}),(0,j.jsxs)("div",{className:"card-body py-2 text-center",children:[(0,j.jsx)("div",{id:"pieChart",className:"d-inline-block",children:(0,j.jsx)(D,{theData:u},u.approvedNumber)}),(0,j.jsx)("div",{className:"chart-items",children:(0,j.jsx)("div",{className:" col-xl-12 col-sm-12",children:(0,j.jsxs)("div",{className:"row text-black text-start fs-13 mt-4",children:[(0,j.jsxs)("span",{className:"mb-3 col-6",children:[(0,j.jsx)("svg",{className:"me-2",width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,j.jsx)("rect",{width:"19",height:"19",rx:"9.5",fill:"#096"})}),"Paid"]}),(0,j.jsxs)("span",{className:"mb-3 col-6",children:[(0,j.jsx)("svg",{className:"me-2",width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,j.jsx)("rect",{width:"19",height:"19",rx:"9.5",fill:"#F7A62C"})}),"Pending Payment"]})]})})})]})]})}):null})]}),f.length>0?(0,j.jsx)("div",{className:u.length>0?"col-xl-8":"col-xl-12",children:(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col-xl-12",children:(0,j.jsxs)("div",{className:"card",children:[(0,j.jsx)("div",{className:"card-header pb-0 border-0",children:(0,j.jsxs)("h4",{className:"fs-20 text-black mb-0",children:["Yearly  Payments Totals Summary For the Year ",M.year]})}),(0,j.jsx)("div",{className:"card-body pb-0 pt-3",children:(0,j.jsx)("div",{id:"marketChart",className:"market-line",children:(0,j.jsx)(C,{yearSum:f},p)})})]})})})}):null]})]})};var M=s(6639),A=s(7757),k=s(70188),I=s(43360),T=s(2499),P=s(19218),E=s(65661),B=s(5289),F=s(39157),R=s(97123),G=s(91951),L=s(62591);const O=e=>{const[a,s]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),[o,t]=(0,n.useState)(!1),[c,r]=(0,n.useState)(!1),[m,u]=(0,n.useState)(""),[h,p]=(0,n.useState)([]),[N,v]=(0,n.useState)([]),[g,f]=(0,n.useState)([]),[y,_]=(0,n.useState)(!1),[D,C]=(0,n.useState)([]),[w,S]=(0,n.useState)(!1),[O,Z]=(0,n.useState)(0),[U,V]=(0,n.useState)([]),[Y,q]=(0,n.useState)(0),[K,z]=(0,n.useState)(!0),[J,H]=(A.n.map((e=>(0,j.jsxs)("option",{value:e.name,children:[" "," "+e.name+" "]}))),A.n.map((e=>(0,j.jsxs)("option",{value:e.dial_code,children:[" "," "+e.name+" ("+e.dial_code+" )"]}))),(0,n.useState)({id:null,buyer:"",currency:"UGX",invoiceNo:"",discount:"",amount:"",percent:50,detailProgress:{},period:"",feeRate:"",discountFee:"",netDis:"",docs:[],acceptTerms:"no",isnew:"yes",tc:!1,status:"",dateAdded:"",comments:[],bank:{}})),[W,X]=(0,n.useState)({dob:null!==J.collectionDate&&void 0!==J.collectionDate&&""!==J.collectionDate?new Date(J.collectionDate):new Date,amount:"",mode:"Bank"});function Q(e){return null!==e&&void 0!==e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}(0,n.useEffect)((()=>{(0,x.G5)().then((e=>{V(e)})).catch((e=>{console.log(e)})),function(){e.obj.type="VERIFIED"===e.obj.status?(0,j.jsxs)("div",{style:{color:"green"},children:[e.obj.status," ",(0,j.jsx)("i",{className:"fa fa-check"})]}):"DECLINED"===e.obj.status?(0,j.jsxs)("div",{style:{color:"red"},children:[e.obj.status," ",(0,j.jsx)("i",{className:"fa fa-times"})]}):e.obj.status,e.obj.isnew=e.obj.isnew?"yes":"no",H(e.obj);const a={...W};X(a)}()}),[]);const $=function(e,a){const s=[];for(var n=e;n<a;n++)s.push(n);return s.push(a),s}(2021,(new Date).getFullYear());const ee=a=>{var s=!1,n="";if(""===m&&(s=!0,n="Please add comment"),s)i()("Oops",n,"error");else{const s={id:null,type:a,comment:m,processId:J.id};console.log(s),d(!0),(0,x.lw)(s).then((a=>{d(!1),_(!1),u(""),i()("Good job!","Successfully Submitted","success"),e.reloadMe(J.id)})).catch((e=>{d(!1),console.log(e),i()("Oops",e.message,"error")}))}},ae=["January","February","March","April","May","June","July","August","September","October","November","December"],se=e=>{e.preventDefault();const a=e.target.getAttribute("name");let s=e.target.value;s=s.split(",").join("");const n={...W};isNaN(s)||(s>J.balanceToDisburse?i()("Invalid Input","Disburse amount should not exceed "+Q(J.balanceToDisburse),"error"):(n[a]=s,X(n)))};return(0,j.jsxs)("section",{style:{marginTop:"10px"},children:[(0,j.jsxs)(B.Z,{disableEnforceFocus:!0,fullWidth:!0,maxWidth:"lg",open:w,onClose:S,children:[(0,j.jsx)(E.Z,{children:(0,j.jsxs)("h4",{children:["Application Disbursements: Total: ",Q(O)]})}),(0,j.jsx)(F.Z,{children:(0,j.jsx)(M.Z,{hideDataExport:!0,rows:D,columns:[{name:"dateAdded",title:"Date"},{name:"user",title:"User"},{name:"amount",title:"Amount"},{name:"mode",title:"Payment Mode"}],defaultExpandedGroups:[],grouping:[],defaultHiddenColumnNames:[],defaultPageSize:0,hideSelectionExport:!0,infiniteScrolling:!0})}),(0,j.jsx)(R.Z,{style:{width:"100%",overflow:"hidden"},children:(0,j.jsx)("button",{type:"button",className:"btn shadow btn-xs btn-primary",onClick:()=>S(!1),"data-dismiss":"modal",children:"Close"})})]}),(0,j.jsxs)(B.Z,{disableEnforceFocus:!0,fullWidth:!0,maxWidth:"lg",open:y,onClose:()=>_(!1),children:[(0,j.jsx)(E.Z,{children:(0,j.jsx)("h4",{children:"Application verification"})}),(0,j.jsx)(F.Z,{children:(0,j.jsxs)("div",{className:"row ",style:{width:"100%",overflow:"hidden",paddingBottom:"10px"},children:[(0,j.jsx)("div",{className:"col-xl-6 col-xxl-6",children:(0,j.jsx)("div",{className:"form-group mb-3",children:(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsx)(P.Z,{onChange:e=>u(e.target.value),value:m,label:"Comment",variant:"standard",fullWidth:!0}),(0,j.jsx)("span",{className:"validation-text"})]})})}),(0,j.jsx)("div",{className:"col-md-2 mt-4 ",style:{textAlign:"center"},children:l?(0,j.jsx)(T.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:l}):(0,j.jsx)("button",{type:"button",className:"btn btn-danger shadow btn-xs ",onClick:()=>ee("DECLINED"),"data-dismiss":"modal",children:"Decline"})}),(0,j.jsx)("div",{className:"col-md-2 mt-4  ",style:{textAlign:"center"},children:l?(0,j.jsx)(T.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:l}):(0,j.jsx)("button",{type:"button",className:"btn btn-success shadow btn-xs ",onClick:()=>ee("VERIFIED"),"data-dismiss":"modal",children:"Approve"})})]})}),(0,j.jsx)(R.Z,{children:(0,j.jsx)("button",{type:"button",className:"btn shadow btn-xs ",onClick:()=>_(!1),"data-dismiss":"modal",children:"Close"})})]}),(0,j.jsxs)(B.Z,{disableEnforceFocus:!0,fullWidth:!0,maxWidth:"lg",open:c,onClose:()=>r(!1),children:[(0,j.jsx)(E.Z,{}),(0,j.jsx)(F.Z,{}),(0,j.jsx)(R.Z,{})]}),(0,j.jsx)("div",{style:{textAlign:"left"},children:(0,j.jsxs)("div",{style:{float:"left",marginRight:"40px",maxWidth:"250px"},children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsxs)("label",{className:"text-black font-w500",children:["Disbursement Amount (Balance Due Disbursement: ",Q(J.balanceToDisburse)," )"]}),0!==J.balanceToDisburse?(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsx)("input",{type:"text",className:"form-control",autoComplete:"off",name:"amount",value:Q(W.amount),onChange:se,placeholder:"Disbursement Amount"}),(0,j.jsx)("span",{className:"validation-text"})]}):null]}),0!==J.balanceToDisburse?(0,j.jsxs)("div",{className:"form-group mb-4",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Payment Mode"}),(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsxs)("select",{value:W.mode,name:"mode",onChange:e=>{e.preventDefault();const a=e.target.getAttribute("name");let s=e.target.value;const n={...W};n[a]=s,X(n)},className:"form-control",children:[(0,j.jsx)("option",{disabled:!0,value:"",children:"Select Payment Mode"}),k.C9.map((e=>(0,j.jsx)("option",{value:e,children:e})))]}),(0,j.jsx)("span",{className:"validation-text"})]})]}):null,0!==J.balanceToDisburse?(0,j.jsxs)("div",{className:"form-group mb-0",children:[(0,j.jsxs)("b",{children:["Disburse Date : ",null!==J.collectionDate&&void 0!==J.collectionDate&&""!==J.collectionDate?(0,G.default)(new Date(J.collectionDate),"dd-MMM-yyyy"):"Not Set"]}),(0,j.jsx)("label",{className:"text-black font-w500",children:"Disbursement Date"}),(0,j.jsx)(b(),{dateFormat:"dd/MM/yyyy",maxDate:null!==J.collectionDate&&void 0!==J.collectionDate&&""!==J.collectionDate?new Date(J.collectionDate):new Date,className:"form-control",renderCustomHeader:e=>{let{date:a,changeYear:s,changeMonth:n,decreaseMonth:l,increaseMonth:d,prevMonthButtonDisabled:o,nextMonthButtonDisabled:t}=e;return(0,j.jsxs)("div",{style:{margin:10,display:"flex",justifyContent:"center"},children:[(0,j.jsx)("button",{onClick:l,disabled:o,children:"<"}),(0,j.jsx)("select",{value:a.getFullYear(),onChange:e=>{let{target:{value:a}}=e;return s(a)},children:$.map((e=>(0,j.jsx)("option",{value:e,children:e},e)))}),(0,j.jsx)("select",{value:ae[a.getMonth()],onChange:e=>{let{target:{value:a}}=e;return n(ae.indexOf(a))},children:ae.map((e=>(0,j.jsx)("option",{value:e,children:e},e)))}),(0,j.jsx)("button",{onClick:d,disabled:t,children:">"})]})},placeholder:"Disbursement Date",name:"dob",selected:W.dob,onChange:e=>{const a=e,s={...W};s.dob=a,X(s)}})]}):null]}),0!==J.balanceToDisburse?(0,j.jsx)("div",{className:"row",children:l?(0,j.jsx)(T.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:l}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{style:{maxWidth:"250px",marginLeft:"15px",float:"right",marginTop:"20px"},className:"btn btn-info",onClick:a=>function(){const a=W.amount.toString().split(",").join(""),s={id:null,applicationId:J.id,amount:a,dateAdded:W.dob,mode:W.mode,isFullyDisbursed:parseInt(J.balanceToDisburse)===parseInt(a),isMse:!0};""===W.amount?i()("Oops","Please add amount","error"):(d(!0),console.log("banange",s),(0,x.p3)(s).then((a=>{const s={...J};s.reimburses=a,H(s),d(!1),_(!1),i()("Good job!","Successfully Submitted","success"),e.reloadMe(J.id),e.setPostModal(!1)})).catch((e=>{d(!1),console.log(e),i()("Oops",e.message,"error")})))}(),children:"Mse Disbursement"}),(0,j.jsx)("button",{style:{maxWidth:"250px",marginLeft:"15px",float:"right",marginTop:"20px"},className:"btn btn-success",onClick:a=>function(){const a=W.amount.toString().split(",").join(""),s={id:null,applicationId:J.id,amount:a,dateAdded:W.dob,mode:W.mode,isFullyDisbursed:parseInt(J.balanceToDisburse)===parseInt(a)};""===W.amount?i()("Oops","Please add amount","error"):(d(!0),console.log("banange",s),(0,x.p3)(s).then((a=>{const s={...J};s.reimburses=a,H(s),d(!1),_(!1),i()("Good job!","Successfully Submitted","success"),e.reloadMe(J.id),e.setPostModal(!1)})).catch((e=>{d(!1),console.log(e),i()("Oops",e.message,"error")})))}(),children:"Disburse"})]})}):null,(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("button",{style:{maxWidth:"250px",marginLeft:"15px",float:"right",marginTop:"20px"},className:"btn btn-warning",onClick:()=>{const e=J,a=[];e.reimburses.map((e=>{e.dateAdded=(0,G.default)(new Date(e.dateAdded),"dd-MMM-yyyy"),e.amount=Q(e.amount),a.push(e)})),Z(e.netDis-e.balanceToDisburse),C(a),S(!0)},children:"Previous Disbursements"})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("button",{style:{maxWidth:"250px",marginLeft:"15px",float:"right",marginTop:"20px"},className:"btn btn-primary",onClick:a=>e.setPostModal(!1),children:"Back To Applications"})})]})}),(0,j.jsx)("div",{className:"card",style:{padding:"30px"},children:(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)("h4",{children:"INVOICE DISCOUNTING APPLICATION DETAILS"}),(0,j.jsxs)("p",{children:["APPLICATION FOR NEW INVOICE DISCOUNTING/FINANCING ",""!==J.status?(0,j.jsxs)("b",{style:{marginLeft:"10px",display:"flex"},children:["Status: ",J.type," ",(0,j.jsxs)("font",{style:{color:"black",marginLeft:"10px"},children:["Date Submtied: ",new Date(J.dateAdded).toDateString()]})]}):null,(0,j.jsxs)("font",{style:{color:"black",marginLeft:"10px"},children:["Progress: ",J.progress]})]}),(0,j.jsxs)("div",{className:"form-group mb-0",children:[(0,j.jsxs)("label",{className:"radio-inline me-3",children:[(0,j.jsx)("input",{disabled:K,required:"required",checked:"yes"===J.isnew,value:"yes",onChange:se,type:"radio",name:"isnew"})," New Invoice Discounting"]}),(0,j.jsxs)("label",{className:"radio-inline me-3",children:[(0,j.jsx)("input",{disabled:K,required:"required",checked:"no"===J.isnew,value:"no",onChange:se,type:"radio",name:"isnew"})," Top Up Invoice Discounting"]})]})]})})}),(0,j.jsxs)("div",{className:"card",style:{padding:"30px"},children:[(0,j.jsx)("h4",{children:"FINANCING INSTRUCTIONS"}),(0,j.jsxs)("div",{className:"row",style:{marginTop:"20px"},children:[(0,j.jsx)("div",{className:"col-lg-10 mb-2",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Buyer"}),(0,j.jsx)("div",{className:"form-group mb-3",children:(0,j.jsx)("input",{type:"text",disabled:K,value:J.buyername,className:"form-control",autoComplete:"off",name:"buyername",required:"required",onChange:se,placeholder:"Invoice Number"})})]})}),(0,j.jsxs)("div",{className:"col-lg-2 mb-2",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Currency"}),(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsxs)("select",{disabled:K,value:J.currency,defaultValue:"UGX",name:"currency",onChange:se,className:"form-control",children:[(0,j.jsx)("option",{disabled:!0,value:"",children:"Select Currency"}),(0,j.jsx)("option",{value:"UGX",children:"UGX"}),(0,j.jsx)("option",{value:"USD",children:"USD"})]}),(0,j.jsx)("span",{className:"validation-text"})]})]}),(0,j.jsx)("div",{className:"col-lg-6 mb-2",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Invoice Number"}),(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsx)("input",{type:"text",disabled:K,value:J.invoiceNo,className:"form-control",autoComplete:"off",name:"invoiceNo",required:"required",onChange:se,placeholder:"Invoice Number"}),(0,j.jsx)("span",{className:"validation-text"})]})]})}),(0,j.jsx)("div",{className:"col-lg-6 mb-2",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Total Invoice Amount"}),(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsx)("input",{type:"text",className:"form-control",autoComplete:"off",name:"amount",disabled:K,value:J.amount,onChange:se,placeholder:"Total Invoice Amount"}),(0,j.jsx)("span",{className:"validation-text"})]})]})}),(0,j.jsx)("div",{className:"col-lg-4 mb-2",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Discount Amount"}),(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsx)("input",{type:"text",className:"form-control",autoComplete:"off",name:"discount",disabled:K,value:Q(J.discount),onChange:se,placeholder:"Discount Amount"}),(0,j.jsx)("span",{className:"validation-text"})]})]})}),(0,j.jsx)("div",{className:"col-lg-4 mb-2",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Discount Percentage (50%-85%):"}),(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsx)("input",{type:"text",className:"form-control",autoComplete:"off",name:"percent",disabled:!0,value:J.percent,onChange:se,placeholder:"Discount Percentage\r (50%-100%):"}),(0,j.jsx)("span",{className:"validation-text"})]})]})})]}),(0,j.jsxs)("div",{className:"row",style:{marginTop:"20px"},children:[(0,j.jsx)("div",{className:"col-lg-8 mb-2",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-lg-6 mb-2",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Finance Period (Max 90 days): "}),(0,j.jsx)("div",{className:"contact-name",children:(0,j.jsx)("div",{className:"form-group mb-0",children:(0,j.jsx)("input",{disabled:K,value:J.period,type:"text",className:"form-control",autoComplete:"off",name:"period",required:"required",onChange:se,placeholder:"Finance Period\r\n(Max 90 days): "})})})]})}),(0,j.jsx)("div",{className:"col-lg-6 mb-2",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Discount Fee Rate (%):"}),(0,j.jsx)("div",{className:"contact-name",children:(0,j.jsx)("div",{className:"form-group mb-0",children:(0,j.jsx)("input",{disabled:K,value:J.feeRate,type:"text",className:"form-control",autoComplete:"off",name:"feeRate",required:"required",onChange:se,placeholder:"Discount Fee \r\nRate (%):\r "})})})]})}),(0,j.jsx)("div",{className:"col-lg-6 mb-2",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:" Discount Fee Amount"}),(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsx)("input",{type:"text",disabled:K,className:"form-control",value:Q(J.discountFee),autoComplete:"off",name:"discountFee",required:"required",onChange:se,placeholder:"Discount Fee Amount\r\n"}),(0,j.jsx)("span",{className:"validation-text"})]})]})}),(0,j.jsx)("div",{className:"col-lg-6 mb-2",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:" Net Disburse Amount"}),(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsx)("input",{disabled:K,type:"text",className:"form-control",autoComplete:"off",name:"netDis",value:Q(J.netDis),onChange:se,placeholder:"Net Disburse Amount "}),(0,j.jsx)("span",{className:"validation-text"})]})]})})]})}),(0,j.jsxs)("div",{className:"col-lg-4 mb-2",children:[(0,j.jsx)("h4",{children:"Attachmented Documents"}),(0,j.jsxs)(L.Z,{responsive:!0,className:"primary-table-bordered",children:[(0,j.jsx)("thead",{className:"thead-primary",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{scope:"col",children:"#"}),(0,j.jsx)("th",{scope:"col",children:"Type"}),(0,j.jsx)("th",{scope:"col",children:"Action"})]})}),(0,j.jsx)("tbody",{children:J.docs.map(((e,a)=>void 0!==e.path?(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:a+1}),(0,j.jsxs)("td",{children:[" ",e.type," "]}),(0,j.jsx)("td",{children:(0,j.jsx)("a",{target:"_blank",href:e.path,children:(0,j.jsx)(I.Z,{variant:"primary btn-xxs",children:"View / Download Document"})})})]}):null))})]})]})]})]}),(0,j.jsxs)("div",{className:"card",style:{padding:"30px"},children:[(0,j.jsx)("h4",{children:"Bank Details"}),(0,j.jsxs)("div",{className:"row",style:{marginTop:"20px"},children:[(0,j.jsx)("div",{className:"col-lg-4 mb-2",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Bank"}),(0,j.jsx)("div",{className:"form-group mb-3",children:(0,j.jsxs)("select",{disabled:!0,value:J.bank.bankId,defaultValue:"",name:"bankId",className:"form-control",children:[(0,j.jsx)("option",{disabled:!0,value:"",children:"Select Bank"}),U.map((e=>(0,j.jsx)("option",{value:e.id,children:e.name})))]})})]})}),(0,j.jsx)("div",{className:"col-lg-4 mb-2",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Account Number"}),(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsx)("input",{type:"text",disabled:!0,value:J.bank.number,className:"form-control",autoComplete:"off",name:"number",required:"required",placeholder:"Account Number"}),(0,j.jsx)("span",{className:"validation-text"})]})]})}),(0,j.jsx)("div",{className:"col-lg-4 mb-2",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Account Name"}),(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsx)("input",{type:"text",className:"form-control",autoComplete:"off",name:"name",disabled:!0,value:J.bank.name,placeholder:"Account Name"}),(0,j.jsx)("span",{className:"validation-text"})]})]})}),(0,j.jsx)("div",{className:"col-lg-4 mb-2",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Branch"}),(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsx)("input",{type:"text",className:"form-control",autoComplete:"off",name:"branch",disabled:!0,value:J.bank.branch,placeholder:"Branch"}),(0,j.jsx)("span",{className:"validation-text"})]})]})})]})]}),(0,j.jsxs)("div",{className:"card",style:{padding:"30px"},children:[(0,j.jsx)("h4",{children:" Verification & Approval"}),(0,j.jsx)("div",{className:"row",style:{marginTop:"20px"},children:(0,j.jsx)("div",{className:"col-lg-12 mb-2",children:J.comments.length>0?(0,j.jsxs)(L.Z,{responsive:!0,className:"primary-table-bordered",children:[(0,j.jsx)("thead",{className:"thead-primary",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{scope:"col",children:"Date"}),(0,j.jsx)("th",{scope:"col",children:"User"}),(0,j.jsx)("th",{scope:"col",children:"Action"}),(0,j.jsx)("th",{scope:"col",children:"Comment"})]})}),(0,j.jsx)("tbody",{children:J.comments.map(((e,a)=>(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:new Date(e.dateAdded).toDateString()}),(0,j.jsx)("td",{children:e.user}),(0,j.jsx)("td",{children:e.type}),(0,j.jsx)("td",{children:e.comment})]})))})]}):(0,j.jsx)("b",{children:"** No verfication added yet **"})})})]})]})};s(86014);var Z=s(61146),U=s.n(Z),V=(s(43241),s(5970));const Y=()=>{const[e,a]=(0,n.useState)([]),[s,c]=(0,n.useState)([]),[r,m]=(0,n.useState)(""),[u,h]=(0,n.useState)(new Date),[p,N]=(0,n.useState)(null),[v,g]=(0,n.useState)(!1),[f,y]=(0,n.useState)([]),[_,D]=(0,n.useState)(!1),[C,w]=(0,n.useState)(!1),[A,k]=(0,n.useState)({}),[I,P]=(0,n.useState)({buyers:[],docs:[],directors:[],creditlimit:{}}),[L,Z]=(0,n.useState)({}),[Y,q]=(0,n.useState)(!1),[K,z]=(0,n.useState)({}),[J,H]=(0,n.useState)(""),[W,X]=(0,n.useState)([]),Q=n.useRef(null),[$,ee]=(0,n.useState)("currentMonth");let[ae,se]=(0,n.useState)({startDate:new Date,endDate:new Date,days:"",name:"days",year:(new Date).getFullYear(),month:-1});const[ne,le]=(0,n.useState)(!1),[de,oe]=(0,n.useState)(""),[te,ce]=(0,n.useState)(!1),[ie,re]=(0,n.useState)([]),[me,ue]=(0,n.useState)(!1),[he,xe]=(0,n.useState)(0),[pe,be]=(0,n.useState)({id:null,name:"",sector:"",osector:"",country:"Uganda",city:"",town:"",streetaddress:"",contactPersonOne:"",phoneOne:"",designationOne:"",contactEmailOne:"",contactPersonTwo:"",phoneTwo:"",designationTwo:"",contactEmailTwo:"",clientBuyerId:null,terms:"choose",code:"+256",code2:"+256"}),je=function(e,a){const s=[];for(var n=e;n<a;n++)s.push(n);return s.push(a),s}(2021,(new Date).getFullYear());const Ne=["January","February","March","April","May","June","July","August","September","October","November","December"];function ve(e,a){!function(e){X([]),(0,x.C1)(e).then((e=>{X(e),D(!1)})).catch((e=>{D(!1),console.log(e),i()("Oops",e.message,"error")}))}({process:a,processId:e.id}),q(!0),z({process:a,obj:e})}function ge(e,a){xe(0),re([]),(0,x.qg)(e).then((e=>{const s=[];e.map((e=>{e.dateAdded=(0,G.default)(new Date(e.dateAdded),"dd-MMM-yyyy"),e.amount=De(e.amount),e.actions=(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{type:"button",className:"btn shadow btn-xs btn-secondary mt-4",onClick:()=>{g(!0),m(e.amount),h(new Date(e.dateAdded)),N(e.id)},"data-dismiss":"modal",children:"Edit"}),_?(0,j.jsx)(T.RotateSpinner,{size:100,color:"rgba(41, 106, 176,1)"}):(0,j.jsx)("button",{style:{marginRight:"10px",marginLeft:"10px",left:"10px",right:"10px"},type:"button",className:"btn shadow btn-xs btn-danger mt-4 ml-4 mr-4",onClick:()=>{var a;a=e.id,D(!0),(0,x.dg)(a).then((e=>{ue(!1),D(!1),i()("Success!","Successfully deleted disbursement","success")})).catch((e=>{D(!1),console.log(e),alert(e)}))},"data-dismiss":"modal",children:"Delete"})]}),s.push(e)})),g(!1),xe(a),re(s)})).catch((e=>{D(!1),console.log(e),i()("Oops",e.message,"error")}))}function fe(){ae.dataRange=$,(0,x.Fq)(ae).then((e=>{const s=[],n=[];e.dataReturn.map((e=>{e.dateAdded=(0,G.default)(new Date(e.dateAdded),"dd-MMM-yyyy"),e.amount=De(e.amount),s.push(e)})),a(s),e.detailsOnly.map((e=>{e.dateAdded=(0,G.default)(new Date(e.dateAdded),"dd-MMM-yyyy"),e.amount=De(e.amount),n.push(e)})),c(n)})).catch((e=>{console.log(e),alert(JSON.stringify(e))}))}W.map((e=>{e.type="VERIFIED"===e.type?(0,j.jsxs)("div",{style:{color:"green"},children:[e.type," ",(0,j.jsx)("i",{className:"fa fa-check"})]}):"DECLINED"===e.type?(0,j.jsxs)("div",{style:{color:"red"},children:[e.type," ",(0,j.jsx)("i",{className:"fa fa-times"})]}):e.type,e.dateAdded=(0,G.default)(new Date(e.dateAdded),"dd-MMM-yyyy")})),e.map((e=>{e.add=e.city+" , "+e.country,e.combo=e.currency+" "+e.amount,e.checkDays=(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{children:e.status}),e.daysPast>0?(0,j.jsxs)("div",{children:[e.daysPast," days past"]}):null]}),e.actions=(0,j.jsx)("div",{className:"",children:"CLIENT_ADDED"===e.type?null:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{children:(0,j.jsx)("button",{type:"button",className:"Pending Disbursement"===e.progress?"btn btn-success shadow btn-xs ":"btn btn-primary shadow btn-xs ",onClick:()=>function(e){k(e),we(!0)}(e),"data-dismiss":"modal",children:"DISBURSED"===e.progress?"Details":"Disburse"})}),(0,j.jsx)("div",{className:"mt-2",children:(0,j.jsx)("button",{type:"button",className:"btn btn-success shadow btn-xs ",onClick:()=>{ge(e.id,e.totalDisbursed),ue(!0),Z(e)},"data-dismiss":"modal",children:"Disbursements"})})]})})})),(0,n.useEffect)((()=>{fe()}),[]);const ye=n.useCallback((()=>{ce(!1)}),[]),_e=n.useCallback((()=>Q.current),[Q.current]);function De(e){return null!==e&&void 0!==e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}V.n.map((e=>(0,j.jsxs)("option",{value:e.dial_code,children:[" "," "+e.name+" ("+e.dial_code+" )"]}))),V.n.map((e=>(0,j.jsxs)("option",{value:e.name,children:[" "," "+e.name+" "]})));const[Ce,we]=(0,n.useState)(!1),Se=(0,n.useMemo)((()=>t.L),[]),Me=(0,n.useMemo)((()=>o),[]),Ae=(0,d.useTable)({columns:Se,data:Me,initialState:{pageIndex:0}},d.useFilters,d.useGlobalFilter,d.usePagination),[ke,Ie]=(0,n.useState)([]);const{state:Te}=Ae,{globalFilter:Pe,pageIndex:Ee}=Te,Be=[];return f.map((e=>{Be.push((0,j.jsxs)("option",{disabled:e.amOwner,value:e.id,children:[e.name," ",e.amOwner?"(Already Added)":""]}))})),I.directors.map((e=>{e.status="VERIFIED"===e.status?(0,j.jsxs)("div",{style:{color:"green"},children:[e.status," ",(0,j.jsx)("i",{className:"fa fa-check"})]}):"REJECTED"===e.status?(0,j.jsxs)("div",{style:{color:"red"},children:[e.status," ",(0,j.jsx)("i",{className:"fa fa-times"})]}):e.status,e.actions=(0,j.jsx)("div",{className:"d-flex",children:(0,j.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",onClick:()=>ve(e,"directors"),"data-dismiss":"modal",children:"view details"})})})),I.buyers.map((e=>{e.status="VERIFIED"===e.status?(0,j.jsxs)("div",{style:{color:"green"},children:[e.status," ",(0,j.jsx)("i",{className:"fa fa-check"})]}):"REJECTED"===e.status?(0,j.jsxs)("div",{style:{color:"red"},children:[e.status," ",(0,j.jsx)("i",{className:"fa fa-times"})]}):e.status,e.actions=(0,j.jsx)("div",{className:"d-flex",children:(0,j.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",onClick:()=>ve(e,"buyers"),"data-dismiss":"modal",children:"view details"})})})),I.docs.map((e=>{e.status="VERIFIED"===e.status?(0,j.jsxs)("div",{style:{color:"green"},children:[e.status," ",(0,j.jsx)("i",{className:"fa fa-check"})]}):"REJECTED"===e.status?(0,j.jsxs)("div",{style:{color:"red"},children:[e.status," ",(0,j.jsx)("i",{className:"fa fa-times"})]}):e.status,e.view=(0,j.jsx)("div",{className:"d-flex",children:(0,j.jsx)("a",{target:"_blank",href:e.path,children:(0,j.jsx)("button",{type:"button",className:"btn btn-success shadow btn-xs ","data-dismiss":"modal",children:"view documnet"})})}),e.actions=(0,j.jsx)("div",{className:"d-flex",children:(0,j.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",onClick:()=>ve(e,"docs"),"data-dismiss":"modal",children:"view details"})})})),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(B.Z,{disableEnforceFocus:!0,fullWidth:!0,maxWidth:"lg",open:me,onClose:ue,children:[(0,j.jsxs)(E.Z,{style:{zIndex:100},children:[(0,j.jsxs)("h4",{children:["Application Disbursements: Total: ",De(he)]}),(0,j.jsxs)("p",{children:["Application Ref : ",L.refference]}),v?(0,j.jsxs)("div",{className:"row mt-4",style:{width:"100%",overflow:"hidden",paddingBottom:"10px",paddingTop:"10px",borderTop:"1px solid #666"},children:[(0,j.jsx)("div",{className:"col-xl-12 col-xxl-12 mb-4 mt-4",children:"Edit Disbursement"}),(0,j.jsx)("div",{className:"col-xl-5 col-xxl-5",children:(0,j.jsxs)("div",{className:"form-group mb-3",children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Disbursed Amount"}),(0,j.jsxs)("div",{className:"contact-name",children:[(0,j.jsx)("input",{type:"text",className:"form-control",autoComplete:"off",name:"amount2",disabled:"COLLECTED"===pe.progress,value:De(r),onChange:e=>{const a=e.target.value.split(",").join("");m(a)},placeholder:"Collection Amount"}),(0,j.jsx)("span",{className:"validation-text"})]})]})}),(0,j.jsx)("div",{className:"col-xl-5 col-xxl-5",children:(0,j.jsxs)("div",{className:"form-group mb-0",style:{zIndex:100},children:[(0,j.jsx)("label",{className:"text-black font-w500",children:"Disbursement Date"}),(0,j.jsx)(b(),{style:{zIndex:100},dateFormat:"dd/MM/yyyy",disabled:"COLLECTED"===pe.progress,className:"form-control",renderCustomHeader:e=>{let{date:a,changeYear:s,changeMonth:n,decreaseMonth:l,increaseMonth:d,prevMonthButtonDisabled:o,nextMonthButtonDisabled:t}=e;return(0,j.jsxs)("div",{style:{margin:10,display:"flex",justifyContent:"center"},children:[(0,j.jsx)("button",{onClick:l,disabled:o,children:"<"}),(0,j.jsx)("select",{value:a.getFullYear(),onChange:e=>{let{target:{value:a}}=e;return s(a)},children:je.map((e=>(0,j.jsx)("option",{value:e,children:e},e)))}),(0,j.jsx)("select",{value:Ne[a.getMonth()],onChange:e=>{let{target:{value:a}}=e;return n(Ne.indexOf(a))},children:Ne.map((e=>(0,j.jsx)("option",{value:e,children:e},e)))}),(0,j.jsx)("button",{onClick:d,disabled:t,children:">"})]})},placeholder:"Collection Date",name:"dob",selected:u,onChange:h})]})}),(0,j.jsx)("div",{className:"col-xl-2 col-xxl-2  mt-4",children:_?(0,j.jsx)(T.RotateSpinner,{size:100,color:"rgba(41, 106, 176,1)"}):(0,j.jsx)("button",{type:"button",className:"btn shadow btn-xs btn-success mt-4",onClick:()=>function(){const e=r.toString().split(",").join(""),a={id:p,applicationId:null,amount:e,dateAdded:u,isFullyDisbursed:!0};""===r?i()("Oops","Please add amount","error"):(D(!0),(0,x.p3)(a).then((e=>{g(!1),ue(!1),D(!1),i()("Success!","Successfully updated","success")})).catch((e=>{D(!1),console.log(e),i()("Oops",e.message,"error")})))}(),"data-dismiss":"modal",children:"Save"})}),"    "]}):null]}),(0,j.jsx)(F.Z,{style:{zIndex:10},children:(0,j.jsx)("div",{style:{zIndex:-10},children:(0,j.jsx)(M.Z,{style:{zIndex:-10},hideDataExport:!0,rows:ie,columns:[{name:"user",title:"Added By"},{name:"refference",title:"Disbursement Ref."},{name:"dateAdded",title:"Disbursement Date"},{name:"amount",title:"Disbursement Amount"},{name:"mode",title:"Payment Mode"},{name:"actions",title:"Actions"}],defaultExpandedGroups:[],grouping:[],defaultHiddenColumnNames:[],defaultPageSize:0,hideSelectionExport:!0,infiniteScrolling:!0})})}),(0,j.jsx)(R.Z,{style:{width:"100%",overflow:"hidden"},children:(0,j.jsx)("button",{type:"button",className:"btn shadow btn-xs btn-primary",onClick:()=>ue(!1),"data-dismiss":"modal",children:"Close"})})]}),(0,j.jsx)(l.Z,{activeMenu:"Disbursements",motherMenu:"Loans"}),ne?null:(0,j.jsx)("div",{children:te?(0,j.jsx)(U(),{onAfterPrint:ye,simple:!0,round:!0,trigger:()=>(0,j.jsx)("p",{style:{textAlign:"center"},children:(0,j.jsx)("button",{to:"#",className:"btn btn-success shadow btn-xs ",children:"Print"})}),content:_e}):(0,j.jsx)("div",{style:{textAlign:"center"},children:(0,j.jsx)("button",{to:"#",className:"btn btn-success  shadow btn-xs ",onClick:()=>ce(!0),children:"Print Preview"})})}),ne?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"mb-sm-5 mb-3 d-flex flex-wrap align-items-center text-head",children:[(0,j.jsx)("h2",{className:"font-w600 mb-2 me-auto",children:"Payments Details"})," ",(0,j.jsx)("button",{to:"#",className:"btn btn-primary mb-2 rounded",onClick:()=>le(!1),children:"Show Summary"})]}),Ce?(0,j.jsx)(O,{reloadMe:function(e){ae.dataRange=$,D(!0),(0,x.Fq)(ae).then((s=>{const n=[],l=[];s.dataReturn.map((a=>{a.dateAdded=(0,G.default)(new Date(a.dateAdded),"dd-MMM-yyyy"),a.amount=De(a.amount),e===a.id&&k(a),n.push(a)})),a(n),s.detailsOnly.map((e=>{e.dateAdded=(0,G.default)(new Date(e.dateAdded),"dd-MMM-yyyy"),e.amount=De(e.amount),l.push(e)})),c(l),D(!1)})).catch((e=>{D(!1),console.log(e),i()("Oops",e.message,"error")}))},setPostModal:we,obj:A},A.status):(0,j.jsxs)("div",{className:"card",children:[(0,j.jsx)("div",{className:"card-header",children:(0,j.jsxs)("div",{className:"row",style:{width:"100%"},children:[(0,j.jsx)("div",{className:"col-xl-5 ",children:(0,j.jsxs)("h4",{className:"card-title",children:["Disbursements for ",de]})}),(0,j.jsx)("div",{className:"col-xl-3",children:(0,j.jsx)("button",{className:"btn btn-primary mb-2 btn-xs ",onClick:()=>w(!C),children:"Toggle Disbursements"})})]})}),(0,j.jsxs)("div",{className:"card-body",children:[(0,j.jsx)("div",{className:"row",style:{width:"100%"},children:0===e.length?(0,j.jsx)(T.RotateSpinner,{size:100,color:"rgba(41, 106, 176,1)"}):null}),C?s.length>0?(0,j.jsx)(M.Z,{exportColumns:[{name:"user",title:"Added By"},{name:"apprefference",title:"Application Ref."},{name:"refference",title:"Disbursement Ref."},{name:"dateAdded",title:"Disbursement Date"},{name:"recoveryMode",title:"Recovery Mode"},{name:"amount",title:"Disbursement Amount"},{name:"mode",title:"Payment Mode"}],exportRow:s,rows:s,groupSummaryItems:[{columnName:"user",type:"count"}],totalSummaryItems:[{columnName:"user",type:"count"}],columns:[{name:"recoveryMode",title:"Recovery Mode"},{name:"user",title:"Added By"},{name:"apprefference",title:"Application Ref."},{name:"refference",title:"Disbursement Ref."},{name:"dateAdded",title:"Disbursement Date"},{name:"amount",title:"Disbursement Amount"},{name:"mode",title:"Payment Mode"}],defaultExpandedGroups:[],grouping:[],defaultHiddenColumnNames:["hasDiff","byHowMuch"],defaultPageSize:0,hideSelectionExport:!0,infiniteScrolling:!0,fileName:"Disbursements for "+de}):"No data received yet, please be patient ....":e.length>0?(0,j.jsx)(M.Z,{hideDataExport:!0,rows:e,columns:[{name:"dateAdded",title:"Application Date"},{name:"refference",title:"Application Ref."},{name:"client",title:"Client"},{name:"buyername",title:"Buyer"},{name:"combo",title:"Amount"},{name:"checkDays",title:"Status"},{name:"progress",title:"Progress"},{name:"actions",title:"Actions"}],defaultExpandedGroups:[],grouping:[],defaultHiddenColumnNames:[],defaultPageSize:0,hideSelectionExport:!0,infiniteScrolling:!0,fileName:"Directors"}):"No data received yet, please be patient ...."]})]})]}):(0,j.jsx)("div",{ref:Q,children:(0,j.jsx)(S,{theNameToShow:oe,getBuyersInfo:fe,setAddFormDataTwo:se,setRange:ee,hideMenu:te,hideDetail:le},te)})]})},q=Y}}]);
//# sourceMappingURL=397.eec8e954.chunk.js.map