"use strict";(self.webpackChunkpesasa=self.webpackChunkpesasa||[]).push([[977],{75268:(e,a,s)=>{s.d(a,{Z:()=>u});var l=s(72791),i=s(5970),n=s(34978),t=(s(51175),s(10178),s(52581)),c=s(43360),r=s(2499),o=s(62062),d=s.n(o),m=s(80184);const u=e=>{var a,s,o,u,h,x,p;const[v,j]=(0,l.useState)(!1),[b,f]=(0,l.useState)(!1),[N,g]=(0,l.useState)(0),[y,S]=(0,l.useState)(!1),[w,C]=(0,l.useState)(!0),[A,k]=(0,l.useState)({}),[L,q]=(i.n.map((e=>(0,m.jsxs)("option",{value:e.name,children:[" "," "+e.name+" "]}))),i.n.map((e=>(0,m.jsxs)("option",{value:e.dial_code,children:[" "," "+e.name+" ("+e.dial_code+" )"]}))),(0,l.useState)({id:null,currency:"",invoices:"",credit:"",limit:"",hasLoan:"",hasLien:""}));function D(){(0,n.mX)({clientid:e.client.id}).then((e=>{null!==e.adminFile.path&&(g(0),C(!1)),k(e)})).catch((e=>{console.log(e)}))}(0,l.useEffect)((()=>{D(),S(!0),q(e.data)}),[]);!function(e,a){const s=[];for(var l=e;l<a;l++)s.push(l);s.push(a)}(2021,(new Date).getFullYear());return(0,m.jsxs)("section",{style:{marginTop:"10px"},children:[(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col",children:(0,m.jsx)("h4",{children:"Credit Facility Agreement"})})}),(0,m.jsxs)("div",{className:"row",style:{marginTop:"20px"},children:[(0,m.jsxs)("div",{className:"col-md-3 mb-2",children:[(0,m.jsx)("label",{className:"text-black font-w500",children:" Sent Agreement"}),(0,m.jsxs)("div",{className:"",children:[null!==(null===(a=A.adminFile)||void 0===a?void 0:a.path)?(0,m.jsx)("a",{target:"_blank",href:null===(s=A.adminFile)||void 0===s?void 0:s.path,download:!0,children:(0,m.jsx)("b",{className:"text-primary",children:"View Agreement Sent"})}):null,w?(0,m.jsx)(t.Q9,{acceptedFileTypes:["application/pdf"],allowMultiple:!0,maxFileSize:"2MB",labelIdle:'Drag & Drop  Credit Limit Facilitaion Here or <span class="filepond--label-action">Browse</span>.',server:{process:(e,a,s,l,i,t,c,r,o)=>{const d=new FormData;return d.append("file",a),d.append("name",e),d.append("type",6),(0,n.IL)(d).then((e=>{g(e.id),l(e.id)})).catch((e=>{alert(e),alert(JSON.stringify(e))})),{abort:()=>{c()}}},revert:(e,a,s)=>{g(0),a()}}}):(0,m.jsx)(c.Z,{variant:"warning btn-xxs",style:{width:"auto",marginLeft:"10px"},className:"ml-4",onClick:e=>C(!0),children:"Change File"}),0!==N?b?(0,m.jsx)(r.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:b}):(0,m.jsx)(c.Z,{variant:"primary btn-xxs",style:{width:"auto"},onClick:a=>{f(!0),(0,n.i5)({clientid:e.client.id,fileId:N,staus:"PENDING_APPROVAL"}).then((e=>{f(!1),d()("Facility Agreement Sent!","Successfully sent file","success"),D()})).catch((e=>{f(!1),console.log(e)}))},children:"Send to client"}):null,(0,m.jsx)("span",{className:"validation-text"})]})]}),(0,m.jsx)("div",{className:"col-md-3 mb-2",children:(0,m.jsxs)("div",{className:"form-group mb-3",children:[(0,m.jsx)("label",{className:"text-black font-w500",children:"Signed Agreement"}),(0,m.jsx)("div",{className:"contact-name",children:(0,m.jsx)("div",{className:"form-group mb-0",children:null===(null===(o=A.clientFile)||void 0===o?void 0:o.path)?"Client has not submited yet":(0,m.jsx)("a",{target:"_blank",href:null===(u=A.clientFile)||void 0===u?void 0:u.path,download:!0,children:(0,m.jsx)("b",{className:"text-primary",children:"View Agreement Signed"})})})})]})}),(0,m.jsx)("div",{className:"col-md-3 mb-2",children:(0,m.jsxs)("div",{className:"form-group mb-3",children:[(0,m.jsx)("label",{className:"text-black font-w500",children:"Status"}),(0,m.jsx)("div",{className:"contact-name",children:(0,m.jsx)("div",{className:"form-group mb-0",children:null===(null===(h=A.clientFile)||void 0===h?void 0:h.path)?"Not applicable":A.staus})})]})}),(0,m.jsx)("div",{className:"col-md-3 mb-2",children:(0,m.jsxs)("div",{className:"form-group mb-3",children:[(0,m.jsx)("label",{className:"text-black font-w500",children:"Actions"}),(0,m.jsx)("div",{className:"contact-name",children:(0,m.jsxs)("div",{className:"form-group mb-0",children:[b?(0,m.jsx)(r.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:b}):(0,m.jsx)(c.Z,{variant:"primary btn-xxs",disabled:null===(null===(x=A.clientFile)||void 0===x?void 0:x.path),style:{width:"auto"},className:"btn btn-info",onClick:e=>{f(!0),(0,n.Bp)({id:A.id,staus:"VERIFIED"}).then((e=>{f(!1),d()("Facility Agreement Approved!","Successfully approved Credit Facility Agreement","success"),D()})).catch((e=>{f(!1),console.log(e)}))},children:"Approve"}),b?(0,m.jsx)(r.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:b}):(0,m.jsx)(c.Z,{variant:"danger btn-xxs",disabled:null===(null===(p=A.clientFile)||void 0===p?void 0:p.path),style:{width:"auto",marginLeft:"10px"},className:"btn btn-info",onClick:e=>{f(!0),(0,n.Bp)({id:A.id,staus:"REJECTED"}).then((e=>{f(!1),d()("Facility Agreement Rejected!","Successfully rejected Credit Facility Agreement","success"),D()})).catch((e=>{f(!1),console.log(e)}))},children:"Reject"})]})})]})})]})]})}},86014:(e,a,s)=>{s.d(a,{Z:()=>d});var l=s(72791),i=s(5970),n=s(34978),t=s(2499),c=s(62062),r=s.n(c),o=s(80184);const d=e=>{const[a,s]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),[h,x]=(0,l.useState)(!1),[p,v]=(i.n.map((e=>(0,o.jsxs)("option",{value:e.name,children:[" "," "+e.name+" "]}))),i.n.map((e=>(0,o.jsxs)("option",{value:e.dial_code,children:[" "," "+e.name+" ("+e.dial_code+" )"]}))),(0,l.useState)({id:null,currency:"",invoices:"",credit:"",limit:"",hasLoan:"",hasLien:""}));(0,l.useEffect)((()=>{u(!0),v(e.data)}),[]);!function(e,a){const s=[];for(var l=e;l<a;l++)s.push(l);s.push(a)}(2021,(new Date).getFullYear());const j=e=>{e.preventDefault();const a=e.target.getAttribute("name"),s=e.target.value.split(",").join("");if(!isNaN(s)){const e={...p};e[a]=s,v(e)}};return(0,o.jsxs)("section",{style:{marginTop:"10px"},children:[(0,o.jsx)("div",{className:"card",style:{padding:"30px"},children:(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col",children:(0,o.jsx)("h4",{children:"Bank Account"})})})}),(0,o.jsx)("div",{className:"card",style:{padding:"30px"},children:(0,o.jsxs)("div",{className:"row",style:{marginTop:"20px"},children:[(0,o.jsxs)("div",{className:"col-md-6 mb-2",children:[(0,o.jsx)("label",{className:"text-black font-w500",children:" Account Name"}),(0,o.jsxs)("div",{className:"contact-name",children:[(0,o.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"invoices",required:"required",onChange:j,placeholder:"Account Name"}),(0,o.jsx)("span",{className:"validation-text"})]})]}),(0,o.jsx)("div",{className:"col-md-6 mb-2",children:(0,o.jsxs)("div",{className:"form-group mb-3",children:[(0,o.jsx)("label",{className:"text-black font-w500",children:"Account Number"}),(0,o.jsx)("div",{className:"contact-name",children:(0,o.jsx)("div",{className:"form-group mb-0",children:(0,o.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"limit",required:"required",onChange:j,placeholder:"Account Number"})})})]})}),(0,o.jsx)("div",{className:"col-md-6 mb-2",children:(0,o.jsxs)("div",{className:"form-group mb-3",children:[(0,o.jsx)("label",{className:"text-black font-w500",children:"Name of Bank"}),(0,o.jsx)("div",{className:"contact-name",children:(0,o.jsx)("div",{className:"form-group mb-0",children:(0,o.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"limit",required:"required",onChange:j,placeholder:"Name of Bank"})})})]})}),(0,o.jsx)("div",{className:"col-md-6 mb-2",children:(0,o.jsxs)("div",{className:"form-group mb-3",children:[(0,o.jsx)("label",{className:"text-black font-w500",children:"Branch"}),(0,o.jsx)("div",{className:"contact-name",children:(0,o.jsx)("div",{className:"form-group mb-0",children:(0,o.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"limit",required:"required",onChange:j,placeholder:"Branch"})})})]})}),(0,o.jsx)("div",{className:"col-lg-12 mb-12",style:{textAlign:"left",marginTop:"30px"},children:c?(0,o.jsx)(t.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:c}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{disabled:!0,style:{width:"auto"},className:"btn btn-success",onClick:e=>(e=>{e.preventDefault();var a=!1,l="";p.limit=p.limit.split(",").join(""),p.invoices=p.invoices.split(",").join(""),""===p.currency?(a=!0,l="Please choose credit limit currency"):""===p.invoices?(a=!0,l="Please add average of total value of invoices issued per month"):""===p.credit?(a=!0,l="Please add average credit period of invoices"):""===p.limit?(a=!0,l="Please add limit Requested (Minimum Ugshs 5,000,000 )"):p.limit<5e6?(a=!0,l="Limit requested is below the 5,000,000 minimum"):""===p.hasLoan?(a=!0,l="Please select if you have a loan"):""===p.hasLien&&(a=!0,l="Please indicate if there is a lien over your receivables or debenture over floating assets/debtors/receivables"),a?r()("Oops",l,"error"):(console.log(p),(0,n.Hc)(p).then((e=>{s(!1),r()("Good job!","Successfully saved data","success"),d(!1)})).catch((e=>{console.log(e),r()("Oops",e.message,"error")})))})(e),children:"Verify Info"})})})]})})]})}},51100:(e,a,s)=>{s.d(a,{Z:()=>o});var l=s(72791),i=s(5970),n=(s(34978),s(2499)),t=s(62062),c=s.n(t),r=s(80184);const o=e=>{const[a,s]=(0,l.useState)(!1),[t,o]=(0,l.useState)(!1),[d,m]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1),[x,p]=(i.n.map((e=>(0,r.jsxs)("option",{value:e.name,children:[" "," "+e.name+" "]}))),i.n.map((e=>(0,r.jsxs)("option",{value:e.dial_code,children:[" "," "+e.name+" ("+e.dial_code+" )"]}))),(0,l.useState)({id:null,currency:"",invoices:"",credit:"",limit:"",hasLoan:"",hasLien:""}));(0,l.useEffect)((()=>{m(!0),void 0!==e.data&&p(e.data)}),[]);!function(e,a){const s=[];for(var l=e;l<a;l++)s.push(l);s.push(a)}(2021,(new Date).getFullYear());function v(e){return null!==e&&void 0!==e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}const j=e=>{e.preventDefault();const a=e.target.getAttribute("name"),s=e.target.value.split(",").join("");if(!isNaN(s)){const e={...x};e[a]=s,p(e)}},b=e=>{e.preventDefault();const a=e.target.getAttribute("name"),s=e.target.value,l={...x};l[a]=s,p(l)};return(0,r.jsxs)("section",{style:{marginTop:"10px"},children:[(0,r.jsx)("div",{className:"card",style:{padding:"30px"},children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("h4",{children:"Credit Limit Application"})})})}),(0,r.jsx)("div",{className:"card",style:{padding:"30px"},children:(0,r.jsxs)("div",{className:"row",style:{marginTop:"20px"},children:[(0,r.jsx)("div",{className:"col-lg-3 mb-2",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("label",{className:"text-black font-w500",children:" Credit limit currency"}),(0,r.jsx)("div",{className:"form-group mb-3",children:(0,r.jsxs)("select",{disabled:d,value:x.currency,defaultValue:"",name:"currency",onChange:b,className:"form-control",children:[(0,r.jsx)("option",{disabled:!0,value:"",children:"Select currency"}),(0,r.jsx)("option",{value:"UGX",children:"UGX"}),(0,r.jsx)("option",{value:"USD",children:"USD"})]})})]})}),(0,r.jsxs)("div",{className:"col-lg-5 mb-2",children:[(0,r.jsx)("label",{className:"text-black font-w500",children:" Average of total value of invoices issued per month"}),(0,r.jsxs)("div",{className:"contact-name",children:[(0,r.jsx)("input",{disabled:d,type:"text",className:"form-control",autoComplete:"off",value:v(x.invoices),name:"invoices",required:"required",onChange:j,placeholder:"Invoices total value"}),(0,r.jsx)("span",{className:"validation-text"})]})]}),(0,r.jsx)("div",{className:"col-lg-4 mb-2",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("label",{className:"text-black font-w500",children:" Average credit period of invoices"}),(0,r.jsx)("div",{className:"form-group mb-3",children:(0,r.jsxs)("select",{disabled:d,value:x.credit,defaultValue:"",name:"credit",onChange:b,className:"form-control",children:[(0,r.jsx)("option",{disabled:!0,value:"",children:"Select Average Credit"}),(0,r.jsx)("option",{value:"30 Days",children:"30 Days"}),(0,r.jsx)("option",{value:"60 Days",children:"60 Days"}),(0,r.jsx)("option",{value:"90 Days",children:"90 Days"})]})})]})}),(0,r.jsx)("div",{className:"col-lg-8 mb-2",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("label",{className:"text-black font-w500",children:" Limit Requested (Minimum Ugshs 5,000,000 )"}),(0,r.jsx)("div",{className:"contact-name",children:(0,r.jsx)("div",{className:"form-group mb-0",children:(0,r.jsx)("input",{disabled:d,value:v(x.limit),type:"text",className:"form-control",autoComplete:"off",name:"limit",required:"required",onChange:j,placeholder:"Limit Requested"})})})]})}),(0,r.jsx)("div",{className:"col-lg-4 mb-2",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("label",{className:"text-primary font-w500",style:{color:"#096"},children:"Credit Limit Amount Approved"}),(0,r.jsx)("div",{className:"contact-name",children:(0,r.jsx)("div",{className:"form-group mb-0",children:(0,r.jsx)("input",{value:v(x.limitApproved),type:"text",className:"form-control",autoComplete:"off",name:"limitApproved",required:"required",onChange:e=>{parseInt(e.target.value.split(",").join(""))<x.limit?j(e):c()("Invalid Input","Amount cannot be more than the client's request","error")},placeholder:"Limit Approved"})})})]})}),(0,r.jsxs)("div",{className:"col-lg-5 mb-2",children:[(0,r.jsx)("label",{className:"text-black font-w500",children:" Do you have an existing debt/loan"}),(0,r.jsx)("div",{className:"contact-name",children:(0,r.jsxs)("div",{className:"form-group mb-0",children:[(0,r.jsxs)("label",{className:"radio-inline me-3",children:[(0,r.jsx)("input",{disabled:d,required:"required",checked:"yes"===x.hasLoan,value:"yes",onChange:b,type:"radio",name:"hasLoan"})," Yes"]}),(0,r.jsxs)("label",{className:"radio-inline me-3",children:[(0,r.jsx)("input",{disabled:d,required:"required",checked:"no"===x.hasLoan,value:"no",onChange:b,type:"radio",name:"hasLoan"})," No"]})]})})]}),"yes"===x.hasLoan?(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-lg-3 mb-2",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsx)("label",{className:"text-black font-w500",children:"Loan currency"}),(0,r.jsx)("div",{className:"form-group mb-3",children:(0,r.jsxs)("select",{disabled:d,value:x.loancurrency,defaultValue:"",name:"loancurrency",onChange:b,className:"form-control",children:[(0,r.jsx)("option",{disabled:!0,value:"",children:"Select currency"}),(0,r.jsx)("option",{value:"UGX",children:"UGX"}),(0,r.jsx)("option",{value:"USD",children:"USD"})]})})]})}),(0,r.jsx)("div",{className:"Other"===x.loanSource?"col-lg-3 mb-2":"col-lg-6 mb-2",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsxs)("label",{className:"text-black font-w500",children:[(0,r.jsx)("b",{style:{color:"red"},children:"*"})," Loan Amount"]}),(0,r.jsx)("div",{className:"contact-name",children:(0,r.jsx)("div",{className:"form-group mb-0",children:(0,r.jsx)("input",{disabled:d,value:v(x.loanAmount),type:"text",className:"form-control",autoComplete:"off",name:"loanAmount",required:"required",onChange:j,placeholder:"Loan Amount"})})})]})}),(0,r.jsx)("div",{className:"col-lg-3 mb-2",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsxs)("label",{className:"text-black font-w500",children:[(0,r.jsx)("b",{style:{color:"red"},children:"*"})," Select Loan Source"]}),(0,r.jsx)("div",{className:"form-group mb-3",children:(0,r.jsxs)("select",{disabled:d,value:x.loanSource,defaultValue:"",name:"loanSource",onChange:b,className:"form-control",children:[(0,r.jsx)("option",{disabled:!0,value:"",children:"Select Source"}),(0,r.jsx)("option",{value:"Bank",children:"Bank"}),(0,r.jsx)("option",{value:"Money Lender",children:"Money Lender"}),(0,r.jsx)("option",{value:"Other",children:"Other"})]})})]})}),"Other"===x.loanSource?(0,r.jsx)("div",{className:"col-lg-3 mb-2",children:(0,r.jsxs)("div",{className:"form-group mb-3",children:[(0,r.jsxs)("label",{className:"text-black font-w500",children:[(0,r.jsx)("b",{style:{color:"red"},children:"*"})," Describe Other Source"]}),(0,r.jsx)("div",{className:"contact-name",children:(0,r.jsx)("div",{className:"form-group mb-0",children:(0,r.jsx)("input",{disabled:d,value:x.sourceDescribe,type:"text",className:"form-control",autoComplete:"off",name:"sourceDescribe",required:"required",onChange:b,placeholder:"Describe Other Source"})})})]})}):null]}):null,(0,r.jsxs)("div",{className:"col-lg-8 mb-2",children:[(0,r.jsx)("label",{className:"text-black font-w500",children:" Is there a lien over your receivables or debenture over floating assets/debtors/receivables"}),(0,r.jsx)("div",{className:"contact-name",children:(0,r.jsxs)("div",{className:"form-group mb-0",children:[(0,r.jsxs)("label",{className:"radio-inline me-3",children:[(0,r.jsx)("input",{disabled:d,required:"required",checked:"yes"===x.hasLien,value:"yes",onChange:b,type:"radio",name:"hasLien"})," Yes"]}),(0,r.jsxs)("label",{className:"radio-inline me-3",children:[(0,r.jsx)("input",{disabled:d,required:"required",checked:"no"===x.hasLien,value:"no",onChange:b,type:"radio",name:"hasLien"})," No"]})]})})]}),(0,r.jsxs)("div",{className:"col-lg-12 mb-12",style:{textAlign:"left",marginTop:"30px"},children:[(0,r.jsxs)("h4",{children:["Status : ",x.status="VERIFIED"===x.status?(0,r.jsxs)("div",{style:{color:"green"},children:[x.status," ",(0,r.jsx)("i",{className:"fa fa-check"})]}):"REJECTED"===x.status?(0,r.jsxs)("div",{style:{color:"red"},children:[x.status," ",(0,r.jsx)("i",{className:"fa fa-times"})]}):x.status]}),t?(0,r.jsx)(n.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:t}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("button",{style:{width:"auto"},className:"btn btn-primary mt-4",onClick:a=>{x.limitApproved<100||null===x.limitApproved?c()("Credit Limit Amount To Approve Missing","Please add credit limit amount to approve","error"):e.verifyInfo(x.limitApproved)},children:"View Details"})})]})]})})]})}},25161:(e,a,s)=>{s(72791),s(80184)}}]);
//# sourceMappingURL=977.6953562c.chunk.js.map