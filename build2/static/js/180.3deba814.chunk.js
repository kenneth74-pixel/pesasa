"use strict";(self.webpackChunkpesasa=self.webpackChunkpesasa||[]).push([[180],{86014:(e,s,a)=>{a.d(s,{Z:()=>r});var t=a(72791),l=a(5970),n=a(34978),i=a(2499),c=a(62062),d=a.n(c),o=a(80184);const r=e=>{const[s,a]=(0,t.useState)(!1),[c,r]=(0,t.useState)(!1),[m,x]=(0,t.useState)(!1),[h,u]=(0,t.useState)(!1),[j,p]=(l.n.map((e=>(0,o.jsxs)("option",{value:e.name,children:[" "," "+e.name+" "]}))),l.n.map((e=>(0,o.jsxs)("option",{value:e.dial_code,children:[" "," "+e.name+" ("+e.dial_code+" )"]}))),(0,t.useState)({id:null,currency:"",invoices:"",credit:"",limit:"",hasLoan:"",hasLien:""}));(0,t.useEffect)((()=>{x(!0),p(e.data)}),[]);!function(e,s){const a=[];for(var t=e;t<s;t++)a.push(t);a.push(s)}(2021,(new Date).getFullYear());const v=e=>{e.preventDefault();const s=e.target.getAttribute("name"),a=e.target.value.split(",").join("");if(!isNaN(a)){const e={...j};e[s]=a,p(e)}};return(0,o.jsxs)("section",{style:{marginTop:"10px"},children:[(0,o.jsx)("div",{className:"card",style:{padding:"30px"},children:(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col",children:(0,o.jsx)("h4",{children:"Bank Account"})})})}),(0,o.jsx)("div",{className:"card",style:{padding:"30px"},children:(0,o.jsxs)("div",{className:"row",style:{marginTop:"20px"},children:[(0,o.jsxs)("div",{className:"col-md-6 mb-2",children:[(0,o.jsx)("label",{className:"text-black font-w500",children:" Account Name"}),(0,o.jsxs)("div",{className:"contact-name",children:[(0,o.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"invoices",required:"required",onChange:v,placeholder:"Account Name"}),(0,o.jsx)("span",{className:"validation-text"})]})]}),(0,o.jsx)("div",{className:"col-md-6 mb-2",children:(0,o.jsxs)("div",{className:"form-group mb-3",children:[(0,o.jsx)("label",{className:"text-black font-w500",children:"Account Number"}),(0,o.jsx)("div",{className:"contact-name",children:(0,o.jsx)("div",{className:"form-group mb-0",children:(0,o.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"limit",required:"required",onChange:v,placeholder:"Account Number"})})})]})}),(0,o.jsx)("div",{className:"col-md-6 mb-2",children:(0,o.jsxs)("div",{className:"form-group mb-3",children:[(0,o.jsx)("label",{className:"text-black font-w500",children:"Name of Bank"}),(0,o.jsx)("div",{className:"contact-name",children:(0,o.jsx)("div",{className:"form-group mb-0",children:(0,o.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"limit",required:"required",onChange:v,placeholder:"Name of Bank"})})})]})}),(0,o.jsx)("div",{className:"col-md-6 mb-2",children:(0,o.jsxs)("div",{className:"form-group mb-3",children:[(0,o.jsx)("label",{className:"text-black font-w500",children:"Branch"}),(0,o.jsx)("div",{className:"contact-name",children:(0,o.jsx)("div",{className:"form-group mb-0",children:(0,o.jsx)("input",{disabled:m,type:"text",className:"form-control",autoComplete:"off",name:"limit",required:"required",onChange:v,placeholder:"Branch"})})})]})}),(0,o.jsx)("div",{className:"col-lg-12 mb-12",style:{textAlign:"left",marginTop:"30px"},children:c?(0,o.jsx)(i.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:c}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{disabled:!0,style:{width:"auto"},className:"btn btn-success",onClick:e=>(e=>{e.preventDefault();var s=!1,t="";j.limit=j.limit.split(",").join(""),j.invoices=j.invoices.split(",").join(""),""===j.currency?(s=!0,t="Please choose credit limit currency"):""===j.invoices?(s=!0,t="Please add average of total value of invoices issued per month"):""===j.credit?(s=!0,t="Please add average credit period of invoices"):""===j.limit?(s=!0,t="Please add limit Requested (Minimum Ugshs 5,000,000 )"):j.limit<5e6?(s=!0,t="Limit requested is below the 5,000,000 minimum"):""===j.hasLoan?(s=!0,t="Please select if you have a loan"):""===j.hasLien&&(s=!0,t="Please indicate if there is a lien over your receivables or debenture over floating assets/debtors/receivables"),s?d()("Oops",t,"error"):(console.log(j),(0,n.Hc)(j).then((e=>{a(!1),d()("Good job!","Successfully saved data","success"),r(!1)})).catch((e=>{console.log(e),d()("Oops",e.message,"error")})))})(e),children:"Verify Info"})})})]})})]})}},30743:(e,s,a)=>{a.r(s),a.d(s,{FilteringTable:()=>T,default:()=>I});var t=a(72791),l=(a(61146),a(66659),a(71358)),n=a(92396),i=a(97311),c=(a(25161),a(62062)),d=a.n(c),o=a(34978),r=(a(6639),a(42542),a(86014),a(2499)),m=a(91951),x=a(91523),h=a(5803),u=a(22389),j=a(82945),p=a(59513),v=a.n(p),b=a(65661),N=a(5289),f=a(39157),g=a(97123),y=a(80184);let w=(new Date).getFullYear();const C=[],D=(new Date).getFullYear();for(var F=2021;F<D;F++)C.push((0,y.jsx)("option",{value:F,children:F}));C.push((0,y.jsx)("option",{value:D,children:D}));const k=function(e,s){const a=[];for(var t=e;t<s;t++)a.push(t);return a.push(s),a}(2021,(new Date).getFullYear());const S=["January","February","March","April","May","June","July","August","September","October","November","December"],M=(0,h.ZP)((()=>(0,u.Z)(Promise.all([a.e(496),a.e(675)]).then(a.bind(a,78675)),1e3))),E=()=>(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(j.Z,{className:"dropdown custom-dropdown mb-0",children:[(0,y.jsx)(j.Z.Toggle,{variant:"",as:"div",className:"btn sharp tp-btn dark-btn i-false",children:(0,y.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,y.jsx)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z",stroke:"#342E59","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,y.jsx)("path",{d:"M12 6C12.5523 6 13 5.55228 13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5C11 5.55228 11.4477 6 12 6Z",stroke:"#342E59","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,y.jsx)("path",{d:"M12 20C12.5523 20 13 19.5523 13 19C13 18.4477 12.5523 18 12 18C11.4477 18 11 18.4477 11 19C11 19.5523 11.4477 20 12 20Z",stroke:"#342E59","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})}),(0,y.jsxs)(j.Z.Menu,{className:"dropdown-menu dropdown-menu-right",children:[(0,y.jsx)(j.Z.Item,{children:"Details "}),(0,y.jsx)(j.Z.Item,{className:"text-danger",children:"Cancel "})]})]})}),A=e=>{var s,a,l,n,i,c,m,h,u;let{hideDetail:j,hideMenu:p,setRange:C,setAddFormDataTwo:D,getBuyersInfo:F,theNameToShow:A}=e;const[P,T]=(0,t.useState)(!1),[I,B]=(0,t.useState)({}),[R,O]=(0,t.useState)([0,0,0,0,0,0,0,0,0,0,0,0]),[Z,L]=(0,t.useState)([]),[U,G]=(0,t.useState)(!1),[Y,q]=(0,t.useState)({startDate:new Date,endDate:new Date,days:"",name:"days",year:(new Date).getFullYear(),month:-1});function X(e){return null!==e&&void 0!==e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}return(0,t.useEffect)((()=>{var e;e=(new Date).getFullYear(),(0,o.uN)(e).then((s=>{L(s),O(Math.random()),w=e})).catch((e=>{console.log(e),d()("Oops",e.message,"error")})),(0,o.Nj)().then((e=>{B(e)})).catch((e=>{console.log(e)}))}),[]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(N.Z,{disableEnforceFocus:!0,fullWidth:!0,maxWidth:"lg",open:P,onClose:T,children:[(0,y.jsx)(b.Z,{children:(0,y.jsx)("h4",{children:"Filter Data"})}),(0,y.jsx)(f.Z,{children:(0,y.jsx)("div",{className:"col-xl-12 col-xxl-12",children:(0,y.jsx)("div",{className:"card",children:(0,y.jsx)("div",{style:{padding:"20px"},children:(0,y.jsxs)("div",{className:"row",style:{height:"400px",marginTop:"10px",width:"100%"},children:[(0,y.jsx)("b",{style:{color:"black"},children:(0,y.jsx)("u",{children:"Filter By Date Range"})}),(0,y.jsx)("div",{className:"col-xl-6 col-xxl-6",children:(0,y.jsxs)("div",{className:"form-group mb-0",children:[(0,y.jsx)("label",{className:"text-black font-w500",children:"Start Date"}),(0,y.jsx)(v(),{dateFormat:"dd/MM/yyyy",className:"form-control",renderCustomHeader:e=>{let{date:s,changeYear:a,changeMonth:t,decreaseMonth:l,increaseMonth:n,prevMonthButtonDisabled:i,nextMonthButtonDisabled:c}=e;return(0,y.jsxs)("div",{style:{margin:10,display:"flex",justifyContent:"center"},children:[(0,y.jsx)("button",{onClick:l,disabled:i,children:"<"}),(0,y.jsx)("select",{value:s.getFullYear(),onChange:e=>{let{target:{value:s}}=e;return a(s)},children:k.map((e=>(0,y.jsx)("option",{value:e,children:e},e)))}),(0,y.jsx)("select",{value:S[s.getMonth()],onChange:e=>{let{target:{value:s}}=e;return t(S.indexOf(s))},children:S.map((e=>(0,y.jsx)("option",{value:e,children:e},e)))}),(0,y.jsx)("button",{onClick:n,disabled:c,children:">"})]})},placeholder:"Start Date",name:"startDate",selected:Y.startDate,onChange:e=>{const s=e,a={...Y};a.startDate=s,q(a)}})]})}),(0,y.jsx)("div",{className:"col-xl-6 col-xxl-6",children:(0,y.jsxs)("div",{className:"form-group mb-0",children:[(0,y.jsx)("label",{className:"text-black font-w500",children:"End Date"}),(0,y.jsx)(v(),{dateFormat:"dd/MM/yyyy",className:"form-control",renderCustomHeader:e=>{let{date:s,changeYear:a,changeMonth:t,decreaseMonth:l,increaseMonth:n,prevMonthButtonDisabled:i,nextMonthButtonDisabled:c}=e;return(0,y.jsxs)("div",{style:{margin:10,display:"flex",justifyContent:"center"},children:[(0,y.jsx)("button",{onClick:l,disabled:i,children:"<"}),(0,y.jsx)("select",{value:s.getFullYear(),onChange:e=>{let{target:{value:s}}=e;return a(s)},children:k.map((e=>(0,y.jsx)("option",{value:e,children:e},e)))}),(0,y.jsx)("select",{value:S[s.getMonth()],onChange:e=>{let{target:{value:s}}=e;return t(S.indexOf(s))},children:S.map((e=>(0,y.jsx)("option",{value:e,children:e},e)))}),(0,y.jsx)("button",{onClick:n,disabled:c,children:">"})]})},placeholder:"End Date",name:"endDate",selected:Y.endDate,onChange:e=>{const s=e,a={...Y};a.endDate=s,q(a)}})]})}),(0,y.jsx)("div",{className:"col-xl-6 col-xxl-6",children:U?(0,y.jsx)(r.RotateSpinner,{size:30,color:"rgba(41, 106, 176,1)",loading:!0}):(0,y.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",style:{marginLeft:"15px",marginTop:"15px"},onClick:()=>(G(!0),C("dateRange"),D(Y),void(0,o.d)(Y).then((e=>{G(!1),B(e),T(!1)})).catch((e=>{G(!1),console.log(e),d()("Oops",e.message,"error")}))),"data-dismiss":"modal",children:"Pick Data"})})]})})})})}),(0,y.jsx)(g.Z,{children:(0,y.jsx)("button",{type:"button",className:"btn btn-success shadow btn-xs ",style:{marginLeft:"15px",marginTop:"15px"},onClick:()=>T(!1),"data-dismiss":"modal",children:"Close"})})]}),p?null:(0,y.jsxs)("div",{className:"mb-sm-5 mb-3 d-flex flex-wrap align-items-center text-head",children:[(0,y.jsx)("h2",{className:"font-w600 mb-2 me-auto",children:"Collections Report"}),(0,y.jsx)(x.rU,{to:"#",className:"btn btn-primary mb-2 rounded",onClick:()=>T(!0),children:"Filter Data"})]}),(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("div",{className:"col-xl-12 col-xxl-12",children:(0,y.jsxs)("div",{className:"card",children:[(0,y.jsxs)("div",{className:"card-header border-0 pb-0",children:[(0,y.jsxs)("h4",{className:"mb-0 fs-20 text-black",children:["Collections Report For ",I.name]}),(0,y.jsx)(E,{})]}),(0,y.jsxs)("div",{className:"card-body",children:[(0,y.jsxs)("div",{className:"bg-gradient-1 coin-holding flex-wrap",style:{flexDirection:"row"},children:[(0,y.jsx)("div",{className:"mb-2 coin-bx",style:{flex:1},children:(0,y.jsx)("div",{className:"d-flex align-items-center",children:(0,y.jsxs)("div",{className:"ms-3",children:[(0,y.jsx)("h4",{className:"coin-font font-w600 mb-0",children:"Total Collections"}),(0,y.jsxs)("b",{className:"mb-0 op-6",style:{color:"#000"},children:["Total Volume: ",I.allNumber]})]})})}),(0,y.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)("div",{className:"coin-bx-one",children:"Principal Cost:"}),(0,y.jsx)("div",{className:"ms-3",children:(0,y.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",X(null===(s=I.all)||void 0===s?void 0:s.toFixed(2))]})})]})}),(0,y.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)("div",{className:"coin-bx-one",children:"Fees Cost:"}),(0,y.jsx)("div",{className:"ms-3",children:(0,y.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",X(null===(a=I.totalAmountFees)||void 0===a?void 0:a.toFixed(2))]})})]})}),(0,y.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)("div",{className:"coin-bx-one",children:"Penalty Cost:"}),(0,y.jsx)("div",{className:"ms-3",children:(0,y.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",X(null===(l=I.totalAmountFines)||void 0===l?void 0:l.toFixed(2))]})})]})})]}),(0,y.jsxs)("div",{className:"bg-gradient-1 mt-4 coin-holding flex-wrap",style:{flexDirection:"row"},children:[(0,y.jsx)("div",{className:"mb-2 coin-bx",style:{flex:1},children:(0,y.jsx)("div",{className:"d-flex align-items-center",children:(0,y.jsxs)("div",{className:"ms-3",children:[(0,y.jsx)("h4",{className:"coin-font font-w600 mb-0",children:"Fully Paid"}),(0,y.jsxs)("b",{className:"mb-0 op-6",style:{color:"#000"},children:["Total Volume: ",I.approvedNumber]})]})})}),(0,y.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)("div",{className:"coin-bx-one",children:"Principal Cost:"}),(0,y.jsx)("div",{className:"ms-3",children:(0,y.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",X(null===(n=I.approved)||void 0===n?void 0:n.toFixed(2))]})})]})}),(0,y.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)("div",{className:"coin-bx-one",children:"Fees Cost:"}),(0,y.jsx)("div",{className:"ms-3",children:(0,y.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",X(null===(i=I.totalApprovedAmountFees)||void 0===i?void 0:i.toFixed(2))]})})]})}),(0,y.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)("div",{className:"coin-bx-one",children:"Penalty Cost:"}),(0,y.jsx)("div",{className:"ms-3",children:(0,y.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",X(null===(c=I.totalApprovedAmountFines)||void 0===c?void 0:c.toFixed(2))]})})]})})]}),(0,y.jsxs)("div",{className:"bg-gradient-1 mt-4 coin-holding flex-wrap",style:{flexDirection:"row"},children:[(0,y.jsx)("div",{className:"mb-2 coin-bx",style:{flex:1},children:(0,y.jsx)("div",{className:"d-flex align-items-center",children:(0,y.jsxs)("div",{className:"ms-3",children:[(0,y.jsx)("h4",{className:"coin-font font-w600 mb-0",children:"Partial Payments"}),(0,y.jsxs)("b",{className:"mb-0 op-6",style:{color:"#000"},children:["Total Volume: ",I.pendingNumber]})]})})}),(0,y.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)("div",{className:"coin-bx-one",children:"Principal Cost:"}),(0,y.jsx)("div",{className:"ms-3",children:(0,y.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",X(null===(m=I.pending)||void 0===m?void 0:m.toFixed(2))]})})]})}),(0,y.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)("div",{className:"coin-bx-one",children:"Fees Cost:"}),(0,y.jsx)("div",{className:"ms-3",children:(0,y.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",X(null===(h=I.totalPendingFees)||void 0===h?void 0:h.toFixed(2))]})})]})}),(0,y.jsx)("div",{className:"mb-2",style:{flex:1},children:(0,y.jsxs)("div",{className:"d-flex align-items-center",children:[(0,y.jsx)("div",{className:"coin-bx-one",children:"Penalty Cost:"}),(0,y.jsx)("div",{className:"ms-3",children:(0,y.jsxs)("h2",{className:"mb-0 text-primary coin-font-2",children:["UGX.",X(null===(u=I.totalPendingFines)||void 0===u?void 0:u.toFixed(2))]})})]})})]})]})]})})}),(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("div",{className:"col-xl-4",children:(0,y.jsx)("div",{className:"row",children:I.length>0?(0,y.jsx)("div",{className:"col-xl-12 col-xxl-12 col-md-12",children:(0,y.jsxs)("div",{className:"card",children:[(0,y.jsxs)("div",{className:"card-header pb-0 border-0",children:[(0,y.jsx)("h4",{className:"mb-0 fs-20 text-black",children:"Current Graph"}),(0,y.jsx)(E,{})]}),(0,y.jsxs)("div",{className:"card-body py-2 text-center",children:[(0,y.jsx)("div",{id:"pieChart",className:"d-inline-block",children:(0,y.jsx)(M,{theData:I},I.approvedNumber)}),(0,y.jsx)("div",{className:"chart-items",children:(0,y.jsx)("div",{className:" col-xl-12 col-sm-12",children:(0,y.jsxs)("div",{className:"row text-black text-start fs-13 mt-4",children:[(0,y.jsxs)("span",{className:"mb-3 col-6",children:[(0,y.jsx)("svg",{className:"me-2",width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("rect",{width:"19",height:"19",rx:"9.5",fill:"#096"})}),"Paid"]}),(0,y.jsxs)("span",{className:"mb-3 col-6",children:[(0,y.jsx)("svg",{className:"me-2",width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("rect",{width:"19",height:"19",rx:"9.5",fill:"#F7A62C"})}),"Pending Collection"]}),(0,y.jsxs)("span",{className:"mb-3 col-6",children:[(0,y.jsx)("svg",{className:"me-2",width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,y.jsx)("rect",{width:"19",height:"19",rx:"9.5",fill:"#F00"})}),"Overdue Collection"]})]})})})]})]})}):null})})})]})};a(43241);var P=a(5970);const T=()=>{const[e,s]=(0,t.useState)([]),[a,c]=(0,t.useState)([]),[r,x]=(0,t.useState)([]),[h,u]=(0,t.useState)("currentMonth"),[j,p]=(0,t.useState)(!1),[v,b]=(0,t.useState)("aboutMe"),[N,f]=(0,t.useState)({}),[g,w]=(0,t.useState)({buyers:[],docs:[],directors:[],creditlimit:{}}),[C,D]=(0,t.useState)(!1),[F,k]=(0,t.useState)(!1),[S,M]=(0,t.useState)({}),[E,T]=(0,t.useState)(""),[I,B]=(0,t.useState)([]),[R,O]=(0,t.useState)(!1),Z=t.useRef(null),[L,U]=(0,t.useState)(!1),[G,Y]=(0,t.useState)(""),[q,X]=(0,t.useState)(!1),[V,_]=(0,t.useState)(!1),[J,H]=(0,t.useState)({}),[z,W]=(0,t.useState)([]);let[K,Q]=(0,t.useState)({startDate:new Date,endDate:new Date,days:"",name:"days",year:2023,month:-1});const[$,ee]=(0,t.useState)({id:null,name:"",sector:"",osector:"",country:"Uganda",city:"",town:"",streetaddress:"",contactPersonOne:"",phoneOne:"",designationOne:"",contactEmailOne:"",contactPersonTwo:"",phoneTwo:"",designationTwo:"",contactEmailTwo:"",clientBuyerId:null,terms:"choose",code:"+256",code2:"+256"});function se(e,s){!function(e){B([]),(0,o.C1)(e).then((e=>{B(e),p(!1)})).catch((e=>{p(!1),console.log(e),d()("Oops",e.message,"error")}))}({process:s,processId:e.id}),k(!0),M({process:s,obj:e})}function ae(){(0,o.E0)().then((e=>{const a=[],t=[];e.dataReturn.map((e=>{e.dateAdded=(0,m.default)(new Date(e.dateAdded),"dd-MMM-yyyy"),e.amount=te(e.amount),a.push(e)})),s(a),e.detailsOnly.map((e=>{e.collType=e.isPastDue?"Past Due":"Normal Collection",e.dateAdded=(0,m.default)(new Date(e.dateAdded),"dd-MMM-yyyy"),e.amount=te(e.amount),t.push(e)})),c(t)})).catch((e=>{console.log(e),d()("Oops",e.message,"error")}))}I.map((e=>{e.type="VERIFIED"===e.type?(0,y.jsxs)("div",{style:{color:"green"},children:[e.type," ",(0,y.jsx)("i",{className:"fa fa-check"})]}):"DECLINED"===e.type?(0,y.jsxs)("div",{style:{color:"red"},children:[e.type," ",(0,y.jsx)("i",{className:"fa fa-times"})]}):e.type,e.dateAdded=new Date(e.dateAdded).toDateString()})),e.map((e=>{e.collectionDateDisplay=(0,m.default)(new Date(e.collectionDate),"dd-MMM-yyyy"),e.displayDate=(0,m.default)(new Date(e.dateAdded),"dd-MMM-yyyy"),e.displayAmt=e.currency+" "+e.amount,e.add=e.city+" , "+e.country,e.actions=(0,y.jsxs)("div",{className:"",children:["CLIENT_ADDED"===e.type?null:(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",onClick:()=>function(e){f(e),ne(!0)}(e),"data-dismiss":"modal",children:"DISBURSED"===e.progress||"PARTIALY_COLLECTED"===e.progress?"Collect":"Details"})}),e.collections.length>0?(0,y.jsx)("div",{className:"mt-2",children:(0,y.jsx)("button",{type:"button",className:"btn btn-success shadow btn-xs ",onClick:()=>{const s=[];e.collections.map((e=>{e.fineToPay=te(e.fineToPay.toFixed(2)),e.collType=e.isPastDue?"Past Due":"Normal Collection",e.dateAdded=(0,m.default)(new Date(e.dateAdded),"dd-MMM-yyyy"),e.amount=te(e.amount),s.push(e)})),W(s),X(!0),H(e)},"data-dismiss":"modal",children:"Collections"})}):null]})})),(0,t.useEffect)((()=>{ae()}),[]);t.useCallback((()=>{O(!1)}),[]),t.useCallback((()=>Z.current),[Z.current]);function te(e){return null!==e&&void 0!==e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}P.n.map((e=>(0,y.jsxs)("option",{value:e.dial_code,children:[" "," "+e.name+" ("+e.dial_code+" )"]}))),P.n.map((e=>(0,y.jsxs)("option",{value:e.name,children:[" "," "+e.name+" "]})));const[le,ne]=(0,t.useState)(!1),ie=(0,t.useMemo)((()=>i.L),[]),ce=(0,t.useMemo)((()=>n),[]),de=(0,l.useTable)({columns:ie,data:ce,initialState:{pageIndex:0}},l.useFilters,l.useGlobalFilter,l.usePagination),[oe,re]=(0,t.useState)([]),{state:me}=de,{globalFilter:xe,pageIndex:he}=me,ue=[];return r.map((e=>{ue.push((0,y.jsxs)("option",{disabled:e.amOwner,value:e.id,children:[e.name," ",e.amOwner?"(Already Added)":""]}))})),g.directors.map((e=>{e.status="VERIFIED"===e.status?(0,y.jsxs)("div",{style:{color:"green"},children:[e.status," ",(0,y.jsx)("i",{className:"fa fa-check"})]}):"REJECTED"===e.status?(0,y.jsxs)("div",{style:{color:"red"},children:[e.status," ",(0,y.jsx)("i",{className:"fa fa-times"})]}):e.status,e.actions=(0,y.jsx)("div",{className:"d-flex",children:(0,y.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",onClick:()=>se(e,"directors"),"data-dismiss":"modal",children:"view details"})})})),g.buyers.map((e=>{e.status="VERIFIED"===e.status?(0,y.jsxs)("div",{style:{color:"green"},children:[e.status," ",(0,y.jsx)("i",{className:"fa fa-check"})]}):"REJECTED"===e.status?(0,y.jsxs)("div",{style:{color:"red"},children:[e.status," ",(0,y.jsx)("i",{className:"fa fa-times"})]}):e.status,e.actions=(0,y.jsx)("div",{className:"d-flex",children:(0,y.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",onClick:()=>se(e,"buyers"),"data-dismiss":"modal",children:"view details"})})})),g.docs.map((e=>{e.status="VERIFIED"===e.status?(0,y.jsxs)("div",{style:{color:"green"},children:[e.status," ",(0,y.jsx)("i",{className:"fa fa-check"})]}):"REJECTED"===e.status?(0,y.jsxs)("div",{style:{color:"red"},children:[e.status," ",(0,y.jsx)("i",{className:"fa fa-times"})]}):e.status,e.view=(0,y.jsx)("div",{className:"d-flex",children:(0,y.jsx)("a",{target:"_blank",href:e.path,children:(0,y.jsx)("button",{type:"button",className:"btn btn-success shadow btn-xs ","data-dismiss":"modal",children:"view documnet"})})}),e.actions=(0,y.jsx)("div",{className:"d-flex",children:(0,y.jsx)("button",{type:"button",className:"btn btn-primary shadow btn-xs ",onClick:()=>se(e,"docs"),"data-dismiss":"modal",children:"view details"})})})),(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{ref:Z,children:(0,y.jsx)(A,{theNameToShow:Y,getBuyersInfo:ae,setAddFormDataTwo:Q,setRange:u,hideMenu:R,hideDetail:U},R)})})},I=T},25161:(e,s,a)=>{a(72791),a(80184)}}]);
//# sourceMappingURL=180.3deba814.chunk.js.map